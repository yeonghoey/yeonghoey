<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120656861-1"></script>
  <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());
   gtag('config', 'UA-120656861-1');
  </script>

  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />


  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="theme-color" content="#ffffff">

  <title>Javascript</title>

  <style type="text/css">
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>

  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <link rel="stylesheet" href="/_css/content.css" />


  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->

  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed|Roboto+Mono" rel="stylesheet">
</head>
<body>
<nav class="menu">
  <ol class="breadcrumb">
    <li><a href="/" >Home</a></li>
    <li>javascript</li>
  </ol>
  <ul class="children">
    <li><a href="./is-jquery-still-relevant">is-jquery-still-relevant</a></li>
    <li><a href="./reveal.js">reveal.js</a></li>
  </ul>
</nav>

<article>
<header>
<h1 class="title">Javascript</h1>
</header>

<nav class="toc">
<h2>Table of Contents</h2>
<ul>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#for">for</a></li>
<li><a href="#function">function</a><ul>
<li><a href="#hoisting">hoisting</a></li>
</ul></li>
<li><a href="#switch">switch</a></li>
<li><a href="#function-1">function</a></li>
<li><a href="#class">class</a></li>
<li><a href="#imports-exports">imports, exports</a></li>
</ul></li>
<li><a href="#types">Types</a><ul>
<li><a href="#object">Object</a></li>
<li><a href="#arrays">Arrays</a></li>
<li><a href="#iterator">Iterator</a></li>
<li><a href="#map">Map</a></li>
<li><a href="#string">String</a></li>
<li><a href="#symbol">Symbol</a></li>
</ul></li>
<li><a href="#reference">Reference</a><ul>
<li><a href="#global-functions">Global functions</a><ul>
<li><a href="#alert-prompt-confirm">alert, prompt, confirm</a></li>
<li><a href="#encodeuri-encodeuricomponent-decodeuri-decodeuricomponent">encodeURI, encodeURIComponent, decodeURI, decodeURIComponent</a></li>
<li><a href="#settimeout-setinterval">setTimeout, setInterval</a></li>
</ul></li>
</ul></li>
<li><a href="#topics">Topics</a><ul>
<li><a href="#use-strict">'use strict';</a></li>
<li><a href="#let-const-var">let, const, var</a></li>
<li><a href="#type-conversions">Type Conversions</a></li>
<li><a href="#check-for-an-undefined-or-null-variable">Check for an undefined or null variable</a></li>
<li><a href="#comparisons">Comparisons</a></li>
<li><a href="#style-guides">Style Guides</a></li>
<li><a href="#garbage-collection">Garbage collection</a></li>
<li><a href="#destructuring">Destructuring</a></li>
<li><a href="#prototypes">Prototypes</a></li>
<li><a href="#inheritance">Inheritance</a></li>
<li><a href="#mixins">Mixins</a></li>
<li><a href="#error-handling">Error handling</a></li>
<li><a href="#window.location">window.location</a></li>
</ul></li>
<li><a href="#dom">DOM</a></li>
<li><a href="#page-lifecycle">Page lifecycle</a></li>
<li><a href="#promise">Promise</a></li>
<li><a href="#events">Events</a></li>
<li><a href="#how-to">How-to</a><ul>
<li><a href="#parse-uri">Parse URI</a></li>
<li><a href="#put-script">Put &lt;script&gt;</a></li>
<li><a href="#add-breadcrumb">Add breadcrumb</a></li>
</ul></li>
<li><a href="#links">Links</a></li>
</ul>
</nav>

<h1 id="syntax">Syntax</h1>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/javascript-specials" class="uri">https://javascript.info/javascript-specials</a></li>
</ul>
</div>
<h2 id="for">for</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" data-line-number="1">outer<span class="op">:</span> <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">3</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">  <span class="cf">for</span> (<span class="kw">let</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> <span class="dv">3</span><span class="op">;</span> j<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">    <span class="kw">let</span> input <span class="op">=</span> <span class="at">prompt</span>(<span class="vs">`Value at coords (</span><span class="sc">${</span>i<span class="sc">}</span><span class="vs">,</span><span class="sc">${</span>j<span class="sc">}</span><span class="vs">)`</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"></a>
<a class="sourceLine" id="cb1-7" data-line-number="7">    <span class="co">// if an empty string or canceled, then break out of both loops</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">    <span class="cf">if</span> (<span class="op">!</span>input) <span class="cf">break</span> outer<span class="op">;</span> <span class="co">// (*)</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">    <span class="co">// do something with the value...</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="at">alert</span>(<span class="st">&#39;Done!&#39;</span>)<span class="op">;</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/while-for" class="uri">https://javascript.info/while-for</a></li>
</ul>
</div>
<h2 id="function">function</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">function</span> <span class="at">sayHi</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">  <span class="at">alert</span>( <span class="st">&quot;Hello&quot;</span> )<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="kw">let</span> sayHi <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">  <span class="at">alert</span>( <span class="st">&quot;Hello&quot;</span> )<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="op">};</span></a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">let</span> age <span class="op">=</span> <span class="dv">16</span><span class="op">;</span> <span class="co">// take 16 as an example</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="cf">if</span> (age <span class="op">&lt;</span> <span class="dv">18</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="at">welcome</span>()<span class="op">;</span>               <span class="co">// \   (runs)</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">                           <span class="co">//  |</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">  <span class="kw">function</span> <span class="at">welcome</span>() <span class="op">{</span>     <span class="co">//  |</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">    <span class="at">alert</span>(<span class="st">&quot;Hello!&quot;</span>)<span class="op">;</span>       <span class="co">//  |  Function Declaration is available</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">  <span class="op">}</span>                        <span class="co">//  |  everywhere in the block where it&#39;s declared</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">                           <span class="co">//  |</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10">  <span class="at">welcome</span>()<span class="op">;</span>               <span class="co">// /   (runs)</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"></a>
<a class="sourceLine" id="cb3-14" data-line-number="14">  <span class="kw">function</span> <span class="at">welcome</span>() <span class="op">{</span>     <span class="co">//  for age = 16, this &quot;welcome&quot; is never created</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15">    <span class="at">alert</span>(<span class="st">&quot;Greetings!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="op">}</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">// Here we&#39;re out of figure brackets,</span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">// so we can not see Function Declarations made inside of them.</span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="at">welcome</span>()<span class="op">;</span> <span class="co">// Error: welcome is not defined</span></a></code></pre></div>
<ul>
<li>By put <code>let welcome;</code> before the <code>if</code>, we can access <code>welcome</code> at last.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">let</span> func <span class="op">=</span> (arg1<span class="op">,</span> arg2<span class="op">,</span> ...<span class="at">argN</span>) <span class="op">=&gt;</span> expression</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="kw">let</span> double <span class="op">=</span> n <span class="op">=&gt;</span> n <span class="op">*</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// paran can be omitted</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw">let</span> sum <span class="op">=</span> (a<span class="op">,</span> b) <span class="op">=&gt;</span> <span class="op">{</span>  <span class="co">// the figure bracket opens a multiline function</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">  <span class="kw">let</span> result <span class="op">=</span> a <span class="op">+</span> b<span class="op">;</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7">  <span class="cf">return</span> result<span class="op">;</span> <span class="co">// if we use figure brackets, use return to get results</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="op">};</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/function-expressions-arrows" class="uri">https://javascript.info/function-expressions-arrows</a></li>
</ul>
</div>
<h3 id="hoisting">hoisting</h3>
<p>There is also function hoisting. A crude timeline of how JS gets executed:</p>
<ol>
<li>Parse the scope and detect all function definitions</li>
<li>Execute the code top-to-bottom with all functions found in step 1 available as variables. following cases are exceptions:
<ul>
<li>Assignments are not evaluated until the code is executed.</li>
<li>Wrapping a function in parenthesis (<code>()</code>) is a quick way to convert a function definition into a function expression</li>
</ul></li>
</ol>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://gist.github.com/maxogden/4bed247d9852de93c94c" class="uri">https://gist.github.com/maxogden/4bed247d9852de93c94c</a></li>
</ul>
</div>
<h2 id="switch">switch</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="cf">switch</span>(x) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="cf">case</span> <span class="st">&#39;value1&#39;</span><span class="op">:</span>  <span class="co">// if (x === &#39;value1&#39;)</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">  ...</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">    [<span class="cf">break</span>]</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="cf">case</span> <span class="st">&#39;value2&#39;</span><span class="op">:</span>  <span class="co">// if (x === &#39;value2&#39;)</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7">  ...</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">    [<span class="cf">break</span>]</a>
<a class="sourceLine" id="cb5-9" data-line-number="9"></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="dt">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11">  ...</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">    [<span class="cf">break</span>]</a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="op">}</span></a></code></pre></div>
<ul>
<li>The value of x is checked for a <strong>strict equality</strong></li>
</ul>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/switch" class="uri">https://javascript.info/switch</a></li>
</ul>
</div>
<h2 id="function-1">function</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">function</span> <span class="at">sumAll</span>(...<span class="at">args</span>) <span class="op">{</span> <span class="co">// args is the name for the array</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">  <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">  <span class="cf">for</span> (<span class="kw">let</span> arg of args) sum <span class="op">+=</span> arg<span class="op">;</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"></a>
<a class="sourceLine" id="cb6-6" data-line-number="6">  <span class="cf">return</span> sum<span class="op">;</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="at">alert</span>( <span class="at">sumAll</span>(<span class="dv">1</span>) )<span class="op">;</span> <span class="co">// 1</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="at">alert</span>( <span class="at">sumAll</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span>) )<span class="op">;</span> <span class="co">// 3</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="at">alert</span>( <span class="at">sumAll</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>) )<span class="op">;</span> <span class="co">// 6</span></a></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">let</span> arr <span class="op">=</span> [<span class="dv">3</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">1</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="at">alert</span>( <span class="va">Math</span>.<span class="at">max</span>(...<span class="at">arr</span>) )<span class="op">;</span> <span class="co">// 5 (spread turns array into a list of arguments)</span></a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="va">func</span>.<span class="at">call</span>(context<span class="op">,</span> arg1<span class="op">,</span> arg2<span class="op">,</span> ...)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="kw">function</span> <span class="at">sayHi</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">  <span class="at">alert</span>(<span class="kw">this</span>.<span class="at">name</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="kw">let</span> admin <span class="op">=</span> <span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Admin&quot;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">// use call to pass different objects as &quot;this&quot;</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="va">sayHi</span>.<span class="at">call</span>( user )<span class="op">;</span> <span class="co">// this = John</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="va">sayHi</span>.<span class="at">call</span>( admin )<span class="op">;</span> <span class="co">// this = Admin</span></a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">let</span> worker <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">  <span class="at">someMethod</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3">    <span class="cf">return</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">  <span class="op">},</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"></a>
<a class="sourceLine" id="cb9-6" data-line-number="6">  <span class="at">slow</span>(x) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7">    <span class="at">alert</span>(<span class="st">&quot;Called with &quot;</span> <span class="op">+</span> x)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8">    <span class="cf">return</span> x <span class="op">*</span> <span class="kw">this</span>.<span class="at">someMethod</span>()<span class="op">;</span> <span class="co">// (*)</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9">  <span class="op">}</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="kw">function</span> <span class="at">cachingDecorator</span>(func) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13">  <span class="kw">let</span> cache <span class="op">=</span> <span class="kw">new</span> <span class="at">Map</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14">  <span class="cf">return</span> <span class="kw">function</span>(x) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15">    <span class="cf">if</span> (<span class="va">cache</span>.<span class="at">has</span>(x)) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16">      <span class="cf">return</span> <span class="va">cache</span>.<span class="at">get</span>(x)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17">    <span class="op">}</span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18">    <span class="kw">let</span> result <span class="op">=</span> <span class="va">func</span>.<span class="at">call</span>(<span class="kw">this</span><span class="op">,</span> x)<span class="op">;</span> <span class="co">// &quot;this&quot; is passed correctly now</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19">    <span class="va">cache</span>.<span class="at">set</span>(x<span class="op">,</span> result)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-20" data-line-number="20">    <span class="cf">return</span> result<span class="op">;</span></a>
<a class="sourceLine" id="cb9-21" data-line-number="21">  <span class="op">};</span></a>
<a class="sourceLine" id="cb9-22" data-line-number="22"><span class="op">}</span></a>
<a class="sourceLine" id="cb9-23" data-line-number="23"></a>
<a class="sourceLine" id="cb9-24" data-line-number="24"><span class="va">worker</span>.<span class="at">slow</span> <span class="op">=</span> <span class="at">cachingDecorator</span>(<span class="va">worker</span>.<span class="at">slow</span>)<span class="op">;</span> <span class="co">// now make it caching</span></a>
<a class="sourceLine" id="cb9-25" data-line-number="25"></a>
<a class="sourceLine" id="cb9-26" data-line-number="26"><span class="at">alert</span>( <span class="va">worker</span>.<span class="at">slow</span>(<span class="dv">2</span>) )<span class="op">;</span> <span class="co">// works</span></a>
<a class="sourceLine" id="cb9-27" data-line-number="27"><span class="at">alert</span>( <span class="va">worker</span>.<span class="at">slow</span>(<span class="dv">2</span>) )<span class="op">;</span> <span class="co">// works, doesn&#39;t call the original (cached)</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/rest-parameters-spread-operator" class="uri">https://javascript.info/rest-parameters-spread-operator</a></li>
</ul>
</div>
<h2 id="class">class</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">class</span> MyClass <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">  <span class="at">constructor</span>(...) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3">    <span class="co">// ...</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5">  <span class="at">method1</span>(...) <span class="op">{}</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6">  <span class="at">method2</span>(...) <span class="op">{}</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7">  get <span class="at">something</span>(...) <span class="op">{}</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8">  set <span class="at">something</span>(...) <span class="op">{}</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9">  <span class="kw">static</span> <span class="at">staticMethod</span>(..) <span class="op">{}</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10">  <span class="co">// ...</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="op">}</span></a></code></pre></div>
<p>Classes provide &quot;super&quot; keyword for that.</p>
<ul>
<li><code>super.method(...)</code> to call a parent method.</li>
<li><code>super(...)</code> to call a parent constructor (inside our constructor only).</li>
<li>constructors in inheriting classes must call <code>super(...)</code>, and (!) do it before using this.
<ul>
<li>When a normal constructor runs, it creates an empty object as this and continues with it.</li>
<li>But when a derived constructor runs, it doesn't do it. It expects the parent constructor to do this job.</li>
</ul></li>
</ul>
<p>Following two code blocks are equivalent:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">function</span> <span class="at">User</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">  <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="va">User</span>.<span class="va">prototype</span>.<span class="at">sayHi</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6">  <span class="at">alert</span>(<span class="kw">this</span>.<span class="at">name</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="kw">let</span> user <span class="op">=</span> <span class="kw">new</span> <span class="at">User</span>(<span class="st">&quot;John&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="va">user</span>.<span class="at">sayHi</span>()<span class="op">;</span></a></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">class</span> User <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">  <span class="at">constructor</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">    <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5">  <span class="op">}</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">  <span class="at">sayHi</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8">    <span class="at">alert</span>(<span class="kw">this</span>.<span class="at">name</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9">  <span class="op">}</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10"></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="kw">let</span> user <span class="op">=</span> <span class="kw">new</span> <span class="at">User</span>(<span class="st">&quot;John&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="va">user</span>.<span class="at">sayHi</span>()<span class="op">;</span></a></code></pre></div>
<p>The proof of the fact:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">class</span> User <span class="op">{</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">  <span class="at">constructor</span>(name) <span class="op">{</span> <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  <span class="at">sayHi</span>() <span class="op">{</span> <span class="at">alert</span>(<span class="kw">this</span>.<span class="at">name</span>)<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">// proof: User is the &quot;constructor&quot; function</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="at">alert</span>(User <span class="op">===</span> <span class="va">User</span>.<span class="va">prototype</span>.<span class="at">constructor</span>)<span class="op">;</span> <span class="co">// true</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">// proof: there are two methods in its &quot;prototype&quot;</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="at">alert</span>(<span class="va">Object</span>.<span class="at">getOwnPropertyNames</span>(<span class="va">User</span>.<span class="at">prototype</span>))<span class="op">;</span> <span class="co">// constructor, sayHi</span></a></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">function</span> <span class="at">makeClass</span>(phrase) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">  <span class="co">// declare a class and return it</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3">  <span class="cf">return</span> <span class="kw">class</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">    <span class="at">sayHi</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5">      <span class="at">alert</span>(phrase)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6">    <span class="op">};</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7">  <span class="op">};</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="kw">let</span> User <span class="op">=</span> <span class="at">makeClass</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="kw">new</span> <span class="at">User</span>().<span class="at">sayHi</span>()<span class="op">;</span> <span class="co">// Hello</span></a></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">class</span> PowerArray <span class="kw">extends</span> Array <span class="op">{</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">  <span class="at">isEmpty</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"></a>
<a class="sourceLine" id="cb15-6" data-line-number="6">  <span class="co">// built-in methods will use this as the constructor</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7">  <span class="kw">static</span> get [<span class="va">Symbol</span>.<span class="at">species</span>]() <span class="op">{</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8">    <span class="cf">return</span> Array<span class="op">;</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9">  <span class="op">}</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="kw">let</span> arr <span class="op">=</span> <span class="kw">new</span> <span class="at">PowerArray</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">50</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="at">alert</span>(<span class="va">arr</span>.<span class="at">isEmpty</span>())<span class="op">;</span> <span class="co">// false</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">// filter creates new array using arr.constructor[Symbol.species] as constructor</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="kw">let</span> filteredArr <span class="op">=</span> <span class="va">arr</span>.<span class="at">filter</span>(item <span class="op">=&gt;</span> item <span class="op">&gt;=</span> <span class="dv">10</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">// filteredArr is not PowerArray, but Array</span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="at">alert</span>(<span class="va">filteredArr</span>.<span class="at">isEmpty</span>())<span class="op">;</span> <span class="co">// Error: filteredArr.isEmpty is not a function</span></a></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">class</span> Rabbit <span class="op">{}</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="kw">let</span> rabbit <span class="op">=</span> <span class="kw">new</span> <span class="at">Rabbit</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">// is it an object of Rabbit class?</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="at">alert</span>( rabbit <span class="kw">instanceof</span> Rabbit )<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/class" class="uri">https://javascript.info/class</a></li>
</ul>
</div>
<h2 id="imports-exports">imports, exports</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="co">// mathConstants.js</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="im">export</span> <span class="kw">const</span> pi <span class="op">=</span> <span class="fl">3.14</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="im">export</span> <span class="kw">const</span> exp <span class="op">=</span> <span class="fl">2.7</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="im">export</span> <span class="kw">const</span> alpha <span class="op">=</span> <span class="fl">0.35</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">// -------------</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">// myFile.js</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="im">import</span> <span class="op">{</span> pi<span class="op">,</span> exp <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./mathConstants.js&#39;</span><span class="op">;</span> <span class="co">// Named import -- destructuring-like syntax</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="va">console</span>.<span class="at">log</span>(pi) <span class="co">// 3.14</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="va">console</span>.<span class="at">log</span>(exp) <span class="co">// 2.7</span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">// -------------</span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="co">// mySecondFile.js</span></a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="im">import</span> <span class="op">*</span> <span class="im">as</span> constants <span class="im">from</span> <span class="st">&#39;./mathConstants.js&#39;</span><span class="op">;</span> <span class="co">// Inject all exported values into constants variable</span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="va">console</span>.<span class="at">log</span>(<span class="va">constants</span>.<span class="at">pi</span>) <span class="co">// 3.14</span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="va">console</span>.<span class="at">log</span>(<span class="va">constants</span>.<span class="at">exp</span>) <span class="co">// 2.7</span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"></a>
<a class="sourceLine" id="cb17-20" data-line-number="20"></a>
<a class="sourceLine" id="cb17-21" data-line-number="21"><span class="co">// coolNumber.js</span></a>
<a class="sourceLine" id="cb17-22" data-line-number="22"><span class="kw">const</span> ultimateNumber <span class="op">=</span> <span class="dv">42</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-23" data-line-number="23"><span class="im">export</span> <span class="im">default</span> ultimateNumber<span class="op">;</span></a>
<a class="sourceLine" id="cb17-24" data-line-number="24"></a>
<a class="sourceLine" id="cb17-25" data-line-number="25"><span class="co">// ------------</span></a>
<a class="sourceLine" id="cb17-26" data-line-number="26"></a>
<a class="sourceLine" id="cb17-27" data-line-number="27"><span class="co">// myFile.js</span></a>
<a class="sourceLine" id="cb17-28" data-line-number="28"><span class="co">// You can just omit &#39;.js&#39;</span></a>
<a class="sourceLine" id="cb17-29" data-line-number="29"><span class="im">import</span> number <span class="im">from</span> <span class="st">&#39;coolNumber&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-30" data-line-number="30"><span class="co">// Default export, independently from its name, is automatically injected into number variable;</span></a>
<a class="sourceLine" id="cb17-31" data-line-number="31"><span class="va">console</span>.<span class="at">log</span>(number) <span class="co">// 42</span></a></code></pre></div>
<ul>
<li>Imports and exports must be at the top level</li>
<li>Module imports are hoisted(internally moved to the beginning of the current scope)</li>
<li>Imports which start with <code>@</code> (like <code>import @/components/component</code>) means root of the project.
<ul>
<li>This is generally customized as <code>resolve.alias</code> field within <code>webpack.config.js</code>.</li>
</ul></li>
</ul>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://github.com/mbeaudru/modern-js-cheatsheet#imports--exports" class="uri">https://github.com/mbeaudru/modern-js-cheatsheet#imports--exports</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" class="uri">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import</a></li>
<li><a href="https://stackoverflow.com/questions/42711175/what-does-the-symbol-do-in-javascript-imports" class="uri">https://stackoverflow.com/questions/42711175/what-does-the-symbol-do-in-javascript-imports</a></li>
</ul>
</div>
<h1 id="types">Types</h1>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2018-03-03_10-35-34.png" /></p>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/instanceof" class="uri">https://javascript.info/instanceof</a></li>
</ul>
</div>
<h2 id="object">Object</h2>
<div class="sourceCode" id="cb18"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">let</span> user <span class="op">=</span> <span class="kw">new</span> <span class="at">Object</span>()<span class="op">;</span> <span class="co">// &quot;object constructor&quot; syntax</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5">  <span class="dt">age</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6">  <span class="st">&quot;likes birds&quot;</span><span class="op">:</span> <span class="kw">true</span>  <span class="co">// multiword property name must be quoted</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="op">};</span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8"></a>
<a class="sourceLine" id="cb18-9" data-line-number="9"><span class="at">alert</span>( <span class="va">user</span>.<span class="at">name</span> )<span class="op">;</span> <span class="co">// John</span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10"><span class="at">alert</span>( <span class="va">user</span>.<span class="at">age</span> )<span class="op">;</span> <span class="co">// 30</span></a>
<a class="sourceLine" id="cb18-11" data-line-number="11"><span class="kw">delete</span> <span class="va">user</span>.<span class="at">age</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-12" data-line-number="12"></a>
<a class="sourceLine" id="cb18-13" data-line-number="13"><span class="co">// multiword</span></a>
<a class="sourceLine" id="cb18-14" data-line-number="14">user[<span class="st">&quot;likes birds&quot;</span>] <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-15" data-line-number="15"><span class="at">alert</span>(user[<span class="st">&quot;likes birds&quot;</span>])<span class="op">;</span> <span class="co">// true</span></a>
<a class="sourceLine" id="cb18-16" data-line-number="16"></a>
<a class="sourceLine" id="cb18-17" data-line-number="17"><span class="kw">let</span> fruit <span class="op">=</span> <span class="st">&quot;apple&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-18" data-line-number="18"><span class="kw">let</span> bag <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-19" data-line-number="19">  [fruit]<span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="co">// the name of the property is taken from the variable fruit</span></a>
<a class="sourceLine" id="cb18-20" data-line-number="20"><span class="op">};</span></a>
<a class="sourceLine" id="cb18-21" data-line-number="21"><span class="at">alert</span>(<span class="va">bag</span>.<span class="at">apple</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-22" data-line-number="22"></a>
<a class="sourceLine" id="cb18-23" data-line-number="23"><span class="kw">function</span> <span class="at">makeUser</span>(name<span class="op">,</span> age) <span class="op">{</span></a>
<a class="sourceLine" id="cb18-24" data-line-number="24">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-25" data-line-number="25">    name<span class="op">,</span> <span class="co">// same as name: name</span></a>
<a class="sourceLine" id="cb18-26" data-line-number="26">    age   <span class="co">// same as age: age</span></a>
<a class="sourceLine" id="cb18-27" data-line-number="27">    <span class="co">// ...</span></a>
<a class="sourceLine" id="cb18-28" data-line-number="28">  <span class="op">};</span></a>
<a class="sourceLine" id="cb18-29" data-line-number="29"><span class="op">}</span></a>
<a class="sourceLine" id="cb18-30" data-line-number="30"></a>
<a class="sourceLine" id="cb18-31" data-line-number="31"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span> <span class="dt">age</span><span class="op">:</span> <span class="dv">30</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb18-32" data-line-number="32"></a>
<a class="sourceLine" id="cb18-33" data-line-number="33"><span class="at">alert</span>(<span class="st">&quot;age&quot;</span> <span class="kw">in</span> user)<span class="op">;</span>                     <span class="co">// true, user.age exists</span></a>
<a class="sourceLine" id="cb18-34" data-line-number="34"><span class="at">alert</span>(<span class="st">&quot;blabla&quot;</span> <span class="kw">in</span> user)<span class="op">;</span>                  <span class="co">// false, user.blabla doesn&#39;t exist</span></a>
<a class="sourceLine" id="cb18-35" data-line-number="35"><span class="at">alert</span>(<span class="va">user</span>.<span class="at">noSuchProperty</span> <span class="op">===</span> <span class="kw">undefined</span>)<span class="op">;</span> <span class="co">// true means &quot;no such property&quot;</span></a>
<a class="sourceLine" id="cb18-36" data-line-number="36"></a>
<a class="sourceLine" id="cb18-37" data-line-number="37"><span class="cf">for</span> (key <span class="kw">in</span> object) <span class="op">{</span></a>
<a class="sourceLine" id="cb18-38" data-line-number="38">  <span class="co">// executes the body for each key among object properties</span></a>
<a class="sourceLine" id="cb18-39" data-line-number="39"><span class="op">}</span></a>
<a class="sourceLine" id="cb18-40" data-line-number="40"></a>
<a class="sourceLine" id="cb18-41" data-line-number="41"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb18-42" data-line-number="42"></a>
<a class="sourceLine" id="cb18-43" data-line-number="43"><span class="kw">let</span> permissions1 <span class="op">=</span> <span class="op">{</span> <span class="dt">canView</span><span class="op">:</span> <span class="kw">true</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb18-44" data-line-number="44"><span class="kw">let</span> permissions2 <span class="op">=</span> <span class="op">{</span> <span class="dt">canEdit</span><span class="op">:</span> <span class="kw">true</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb18-45" data-line-number="45"></a>
<a class="sourceLine" id="cb18-46" data-line-number="46"><span class="co">// copies all properties from permissions1 and permissions2 into user</span></a>
<a class="sourceLine" id="cb18-47" data-line-number="47"><span class="va">Object</span>.<span class="at">assign</span>(user<span class="op">,</span> permissions1<span class="op">,</span> permissions2)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-48" data-line-number="48"></a>
<a class="sourceLine" id="cb18-49" data-line-number="49"><span class="co">// now user = { name: &quot;John&quot;, canView: true, canEdit: true }</span></a>
<a class="sourceLine" id="cb18-50" data-line-number="50"></a>
<a class="sourceLine" id="cb18-51" data-line-number="51"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-52" data-line-number="52">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-53" data-line-number="53">  <span class="dt">age</span><span class="op">:</span> <span class="dv">30</span></a>
<a class="sourceLine" id="cb18-54" data-line-number="54"><span class="op">};</span></a>
<a class="sourceLine" id="cb18-55" data-line-number="55"></a>
<a class="sourceLine" id="cb18-56" data-line-number="56"><span class="kw">let</span> clone <span class="op">=</span> <span class="va">Object</span>.<span class="at">assign</span>(<span class="op">{},</span> user)<span class="op">;</span></a></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3">  <span class="dt">age</span><span class="op">:</span> <span class="dv">30</span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="op">};</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="co">// loop over values</span></a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="cf">for</span> (<span class="kw">let</span> value of <span class="va">Object</span>.<span class="at">values</span>(user)) <span class="op">{</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8">  <span class="at">alert</span>(value)<span class="op">;</span> <span class="co">// John, then 30</span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="op">}</span></a></code></pre></div>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2018-03-03_08-49-20.png" /></p>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/object" class="uri">https://javascript.info/object</a></li>
</ul>
</div>
<h2 id="arrays">Arrays</h2>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/array" class="uri">https://javascript.info/array</a></li>
<li><a href="https://javascript.info/array-methods" class="uri">https://javascript.info/array-methods</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for" class="uri">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for</a>of</li>
<li><a href="http://airbnb.io/javascript/#iterators-and-generators" class="uri">http://airbnb.io/javascript/#iterators-and-generators</a></li>
</ul>
</div>
<p>Prefer JavaScripts higher-order functions instead of loops like <code>for-in</code> or <code>for-of</code>. Use <code>map()</code> / <code>every()</code> / <code>filter()</code> / <code>find()</code> / <code>findIndex()</code> / <code>reduce()</code> / <code>some()</code> / </p>
<div class="sourceCode" id="cb20"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">let</span> arr <span class="op">=</span> <span class="kw">new</span> <span class="at">Array</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="kw">let</span> arr <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3"></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="kw">let</span> fruits <span class="op">=</span> [<span class="st">&quot;Apple&quot;</span><span class="op">,</span> <span class="st">&quot;Orange&quot;</span><span class="op">,</span> <span class="st">&quot;Plum&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"></a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="va">arr</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb20-7" data-line-number="7">  <span class="at">alert</span>( arr[i] )<span class="op">;</span></a>
<a class="sourceLine" id="cb20-8" data-line-number="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9"></a>
<a class="sourceLine" id="cb20-10" data-line-number="10"><span class="co">// iterates over array elements</span></a>
<a class="sourceLine" id="cb20-11" data-line-number="11"><span class="cf">for</span> (<span class="kw">let</span> fruit of fruits) <span class="op">{</span></a>
<a class="sourceLine" id="cb20-12" data-line-number="12">  <span class="at">alert</span>( fruit )<span class="op">;</span></a>
<a class="sourceLine" id="cb20-13" data-line-number="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb20-14" data-line-number="14"></a>
<a class="sourceLine" id="cb20-15" data-line-number="15"><span class="co">// Can use &#39;const&#39; instead of &#39;let&#39;,</span></a>
<a class="sourceLine" id="cb20-16" data-line-number="16"><span class="co">// if you don&#39;t reassign the variable inside the block.</span></a>
<a class="sourceLine" id="cb20-17" data-line-number="17"><span class="cf">for</span> (<span class="kw">let</span> fruit of fruits) <span class="op">{</span></a>
<a class="sourceLine" id="cb20-18" data-line-number="18">  <span class="at">alert</span>( fruit )<span class="op">;</span></a>
<a class="sourceLine" id="cb20-19" data-line-number="19"><span class="op">}</span></a>
<a class="sourceLine" id="cb20-20" data-line-number="20"></a>
<a class="sourceLine" id="cb20-21" data-line-number="21"><span class="co">// Don&#39;t use for..in, because it iterates over all of Array&#39;s properties.</span></a>
<a class="sourceLine" id="cb20-22" data-line-number="22"><span class="co">// 10 ~ 100 times slower</span></a>
<a class="sourceLine" id="cb20-23" data-line-number="23"></a>
<a class="sourceLine" id="cb20-24" data-line-number="24"><span class="kw">let</span> arr <span class="op">=</span> [<span class="st">&quot;I&quot;</span><span class="op">,</span> <span class="st">&quot;go&quot;</span><span class="op">,</span> <span class="st">&quot;home&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb20-25" data-line-number="25"></a>
<a class="sourceLine" id="cb20-26" data-line-number="26"><span class="kw">delete</span> arr[<span class="dv">1</span>]<span class="op">;</span> <span class="co">// remove &quot;go&quot;</span></a>
<a class="sourceLine" id="cb20-27" data-line-number="27"></a>
<a class="sourceLine" id="cb20-28" data-line-number="28"><span class="at">alert</span>( arr[<span class="dv">1</span>] )<span class="op">;</span> <span class="co">// undefined</span></a>
<a class="sourceLine" id="cb20-29" data-line-number="29"></a>
<a class="sourceLine" id="cb20-30" data-line-number="30"><span class="co">// now arr = [&quot;I&quot;,  , &quot;home&quot;];</span></a>
<a class="sourceLine" id="cb20-31" data-line-number="31"><span class="at">alert</span>( <span class="va">arr</span>.<span class="at">length</span> )<span class="op">;</span> <span class="co">// 3</span></a></code></pre></div>
<h2 id="iterator">Iterator</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">let</span> range <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2">  <span class="dt">from</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3">  <span class="dt">to</span><span class="op">:</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="op">};</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5"></a>
<a class="sourceLine" id="cb21-6" data-line-number="6"><span class="co">// 1. call to for..of initially calls this</span></a>
<a class="sourceLine" id="cb21-7" data-line-number="7">range[<span class="va">Symbol</span>.<span class="at">iterator</span>] <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb21-8" data-line-number="8"></a>
<a class="sourceLine" id="cb21-9" data-line-number="9">  <span class="co">// 2. ...it returns the iterator:</span></a>
<a class="sourceLine" id="cb21-10" data-line-number="10">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb21-11" data-line-number="11">    <span class="dt">current</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">from</span><span class="op">,</span></a>
<a class="sourceLine" id="cb21-12" data-line-number="12">    <span class="dt">last</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">to</span><span class="op">,</span></a>
<a class="sourceLine" id="cb21-13" data-line-number="13"></a>
<a class="sourceLine" id="cb21-14" data-line-number="14">    <span class="co">// 3. next() is called on each iteration by the for..of loop</span></a>
<a class="sourceLine" id="cb21-15" data-line-number="15">    <span class="at">next</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb21-16" data-line-number="16">      <span class="co">// 4. it should return the value as an object {done:.., value :...}</span></a>
<a class="sourceLine" id="cb21-17" data-line-number="17">      <span class="cf">if</span> (<span class="kw">this</span>.<span class="at">current</span> <span class="op">&lt;=</span> <span class="kw">this</span>.<span class="at">last</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb21-18" data-line-number="18">        <span class="cf">return</span> <span class="op">{</span> <span class="dt">done</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">current</span><span class="op">++</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb21-19" data-line-number="19">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb21-20" data-line-number="20">        <span class="cf">return</span> <span class="op">{</span> <span class="dt">done</span><span class="op">:</span> <span class="kw">true</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb21-21" data-line-number="21">      <span class="op">}</span></a>
<a class="sourceLine" id="cb21-22" data-line-number="22">    <span class="op">}</span></a>
<a class="sourceLine" id="cb21-23" data-line-number="23">  <span class="op">};</span></a>
<a class="sourceLine" id="cb21-24" data-line-number="24"><span class="op">};</span></a>
<a class="sourceLine" id="cb21-25" data-line-number="25"></a>
<a class="sourceLine" id="cb21-26" data-line-number="26"><span class="co">// now it works!</span></a>
<a class="sourceLine" id="cb21-27" data-line-number="27"><span class="cf">for</span> (<span class="kw">let</span> num of range) <span class="op">{</span></a>
<a class="sourceLine" id="cb21-28" data-line-number="28">  <span class="at">alert</span>(num)<span class="op">;</span> <span class="co">// 1, then 2, 3, 4, 5</span></a>
<a class="sourceLine" id="cb21-29" data-line-number="29"><span class="op">}</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/iterable" class="uri">https://javascript.info/iterable</a></li>
</ul>
</div>
<h2 id="map">Map</h2>
<ul>
<li>The main difference with <code>Object</code> is that <strong>Map allows keys of any type</strong>.</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">let</span> recipeMap <span class="op">=</span> <span class="kw">new</span> <span class="at">Map</span>([</a>
<a class="sourceLine" id="cb22-2" data-line-number="2">  [<span class="st">&#39;cucumber&#39;</span><span class="op">,</span> <span class="dv">500</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3">  [<span class="st">&#39;tomatoes&#39;</span><span class="op">,</span> <span class="dv">350</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4">  [<span class="st">&#39;onion&#39;</span><span class="op">,</span>    <span class="dv">50</span>]</a>
<a class="sourceLine" id="cb22-5" data-line-number="5">])<span class="op">;</span></a>
<a class="sourceLine" id="cb22-6" data-line-number="6"></a>
<a class="sourceLine" id="cb22-7" data-line-number="7"><span class="co">// iterate over keys (vegetables)</span></a>
<a class="sourceLine" id="cb22-8" data-line-number="8"><span class="cf">for</span> (<span class="kw">let</span> vegetable of <span class="va">recipeMap</span>.<span class="at">keys</span>()) <span class="op">{</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9">  <span class="at">alert</span>(vegetable)<span class="op">;</span> <span class="co">// cucumber, tomateos, onion</span></a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb22-11" data-line-number="11"></a>
<a class="sourceLine" id="cb22-12" data-line-number="12"><span class="co">// iterate over values (amounts)</span></a>
<a class="sourceLine" id="cb22-13" data-line-number="13"><span class="cf">for</span> (<span class="kw">let</span> amount of <span class="va">recipeMap</span>.<span class="at">values</span>()) <span class="op">{</span></a>
<a class="sourceLine" id="cb22-14" data-line-number="14">  <span class="at">alert</span>(amount)<span class="op">;</span> <span class="co">// 500, 350, 50</span></a>
<a class="sourceLine" id="cb22-15" data-line-number="15"><span class="op">}</span></a>
<a class="sourceLine" id="cb22-16" data-line-number="16"></a>
<a class="sourceLine" id="cb22-17" data-line-number="17"><span class="co">// iterate over [key, value] entries</span></a>
<a class="sourceLine" id="cb22-18" data-line-number="18"><span class="cf">for</span> (<span class="kw">let</span> entry of recipeMap) <span class="op">{</span> <span class="co">// the same as of recipeMap.entries()</span></a>
<a class="sourceLine" id="cb22-19" data-line-number="19">  <span class="at">alert</span>(entry)<span class="op">;</span> <span class="co">// cucumber,500 (and so on)</span></a>
<a class="sourceLine" id="cb22-20" data-line-number="20"><span class="op">}</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/map-set-weakmap-weakset" class="uri">https://javascript.info/map-set-weakmap-weakset</a></li>
</ul>
</div>
<h2 id="string">String</h2>
<ul>
<li>Single and double quotes are literally same (except escaping)</li>
<li>It seems that <strong>single quotes are preferred</strong> in the most famous libraries.</li>
<li>Backticks are used for string interpolation.</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">let</span> name <span class="op">=</span> <span class="st">&quot;John&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2"></a>
<a class="sourceLine" id="cb23-3" data-line-number="3"><span class="co">// embed a variable</span></a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="at">alert</span>( <span class="vs">`Hello, </span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">!`</span> )<span class="op">;</span> <span class="co">// Hello, John!</span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5"></a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="co">// embed an expression</span></a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="at">alert</span>( <span class="vs">`the result is </span><span class="sc">${</span><span class="dv">1</span> <span class="op">+</span> <span class="dv">2</span><span class="sc">}</span><span class="vs">`</span> )<span class="op">;</span> <span class="co">// the result is 3</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8"></a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="co">// Multiple lines</span></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="kw">let</span> guestList <span class="op">=</span> <span class="vs">`Guests:</span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11"><span class="vs"> * John</span></a>
<a class="sourceLine" id="cb23-12" data-line-number="12"><span class="vs"> * Pete</span></a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="vs"> * Mary</span></a>
<a class="sourceLine" id="cb23-14" data-line-number="14"><span class="vs">`</span><span class="op">;</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://www.w3schools.com/jsref/jsref_obj_string.asp" class="uri">https://www.w3schools.com/jsref/jsref_obj_string.asp</a></li>
<li><a href="https://stackoverflow.com/questions/242813/when-to-use-double-or-single-quotes-in-javascript" class="uri">https://stackoverflow.com/questions/242813/when-to-use-double-or-single-quotes-in-javascript</a></li>
<li><a href="https://javascript.info/string" class="uri">https://javascript.info/string</a></li>
</ul>
</div>
<h2 id="symbol">Symbol</h2>
<div class="sourceCode" id="cb24"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="co">// Symbol value represents a unique identifier.</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="co">// The first argument is a description(&quot;id&quot;, in this case), useful for debugging</span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="kw">let</span> id1 <span class="op">=</span> <span class="at">Symbol</span>(<span class="st">&quot;id&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="kw">let</span> id2 <span class="op">=</span> <span class="at">Symbol</span>(<span class="st">&quot;id&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-5" data-line-number="5"></a>
<a class="sourceLine" id="cb24-6" data-line-number="6"><span class="at">alert</span>(id1 <span class="op">==</span> id2)<span class="op">;</span> <span class="co">// false</span></a>
<a class="sourceLine" id="cb24-7" data-line-number="7"></a>
<a class="sourceLine" id="cb24-8" data-line-number="8"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb24-9" data-line-number="9"><span class="co">// Work as a hidden property</span></a>
<a class="sourceLine" id="cb24-10" data-line-number="10"><span class="kw">let</span> id <span class="op">=</span> <span class="at">Symbol</span>(<span class="st">&quot;id&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-11" data-line-number="11"></a>
<a class="sourceLine" id="cb24-12" data-line-number="12">user[id] <span class="op">=</span> <span class="st">&quot;ID Value&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb24-13" data-line-number="13"><span class="at">alert</span>( user[id] )<span class="op">;</span> <span class="co">// we can access the data using the symbol as the key</span></a>
<a class="sourceLine" id="cb24-14" data-line-number="14"></a>
<a class="sourceLine" id="cb24-15" data-line-number="15"><span class="kw">let</span> id <span class="op">=</span> <span class="at">Symbol</span>(<span class="st">&quot;id&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-16" data-line-number="16"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb24-17" data-line-number="17">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb24-18" data-line-number="18">  <span class="dt">age</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span></a>
<a class="sourceLine" id="cb24-19" data-line-number="19">  [id]<span class="op">:</span> <span class="dv">123</span></a>
<a class="sourceLine" id="cb24-20" data-line-number="20"><span class="op">};</span></a>
<a class="sourceLine" id="cb24-21" data-line-number="21"></a>
<a class="sourceLine" id="cb24-22" data-line-number="22"><span class="cf">for</span> (<span class="kw">let</span> key <span class="kw">in</span> user) <span class="at">alert</span>(key)<span class="op">;</span> <span class="co">// name, age (no symbols)</span></a>
<a class="sourceLine" id="cb24-23" data-line-number="23"></a>
<a class="sourceLine" id="cb24-24" data-line-number="24"><span class="co">// the direct access by the symbol works</span></a>
<a class="sourceLine" id="cb24-25" data-line-number="25"><span class="at">alert</span>( <span class="st">&quot;Direct: &quot;</span> <span class="op">+</span> user[id] )<span class="op">;</span></a>
<a class="sourceLine" id="cb24-26" data-line-number="26"></a>
<a class="sourceLine" id="cb24-27" data-line-number="27"><span class="co">// read from the global registry</span></a>
<a class="sourceLine" id="cb24-28" data-line-number="28"><span class="kw">let</span> id <span class="op">=</span> <span class="va">Symbol</span>.<span class="at">for</span>(<span class="st">&quot;id&quot;</span>)<span class="op">;</span> <span class="co">// if the symbol did not exist, it is created</span></a>
<a class="sourceLine" id="cb24-29" data-line-number="29"></a>
<a class="sourceLine" id="cb24-30" data-line-number="30"><span class="co">// read it again</span></a>
<a class="sourceLine" id="cb24-31" data-line-number="31"><span class="kw">let</span> idAgain <span class="op">=</span> <span class="va">Symbol</span>.<span class="at">for</span>(<span class="st">&quot;id&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-32" data-line-number="32"></a>
<a class="sourceLine" id="cb24-33" data-line-number="33"><span class="co">// the same symbol</span></a>
<a class="sourceLine" id="cb24-34" data-line-number="34"><span class="at">alert</span>( id <span class="op">===</span> idAgain )<span class="op">;</span> <span class="co">// true</span></a>
<a class="sourceLine" id="cb24-35" data-line-number="35"></a>
<a class="sourceLine" id="cb24-36" data-line-number="36"><span class="kw">let</span> sym <span class="op">=</span> <span class="va">Symbol</span>.<span class="at">for</span>(<span class="st">&quot;name&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-37" data-line-number="37"><span class="kw">let</span> sym2 <span class="op">=</span> <span class="va">Symbol</span>.<span class="at">for</span>(<span class="st">&quot;id&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-38" data-line-number="38"></a>
<a class="sourceLine" id="cb24-39" data-line-number="39"><span class="co">// get name from symbol</span></a>
<a class="sourceLine" id="cb24-40" data-line-number="40"><span class="at">alert</span>( <span class="va">Symbol</span>.<span class="at">keyFor</span>(sym) )<span class="op">;</span> <span class="co">// name</span></a>
<a class="sourceLine" id="cb24-41" data-line-number="41"><span class="at">alert</span>( <span class="va">Symbol</span>.<span class="at">keyFor</span>(sym2) )<span class="op">;</span> <span class="co">// id</span></a></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="co">// we can omit &quot;function&quot; and just write sayHi().</span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb25-3" data-line-number="3">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb25-4" data-line-number="4">  <span class="dt">age</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span></a>
<a class="sourceLine" id="cb25-5" data-line-number="5"></a>
<a class="sourceLine" id="cb25-6" data-line-number="6">  <span class="at">sayHi</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb25-7" data-line-number="7">    <span class="at">alert</span>(<span class="kw">this</span>.<span class="at">name</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb25-8" data-line-number="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb25-9" data-line-number="9"></a>
<a class="sourceLine" id="cb25-10" data-line-number="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb25-11" data-line-number="11"></a>
<a class="sourceLine" id="cb25-12" data-line-number="12"><span class="va">user</span>.<span class="at">sayHi</span>()<span class="op">;</span> <span class="co">// John</span></a>
<a class="sourceLine" id="cb25-13" data-line-number="13"></a>
<a class="sourceLine" id="cb25-14" data-line-number="14"><span class="kw">function</span> <span class="at">sayHi</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb25-15" data-line-number="15">  <span class="at">alert</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb25-16" data-line-number="16"><span class="op">}</span></a>
<a class="sourceLine" id="cb25-17" data-line-number="17"></a>
<a class="sourceLine" id="cb25-18" data-line-number="18"><span class="at">sayHi</span>()<span class="op">;</span> <span class="co">// undefined</span></a>
<a class="sourceLine" id="cb25-19" data-line-number="19"></a></code></pre></div>
<blockquote>
<p>In this case this is undefined in strict mode. If we try to access this.name, there will be an error. In non-strict mode (if one forgets use strict) the value of this in such case will be the global object (window in a browser, well get to it later). This is a historical behavior that &quot;use strict&quot; fixes. Please note that usually a call of a function that uses this without an object is not normal, but rather a programming mistake. If a function has this, then it is usually meant to be called in the context of an object</p>
</blockquote>
<div class="sourceCode" id="cb26"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb26-2" data-line-number="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb26-3" data-line-number="3">  <span class="at">hi</span>() <span class="op">{</span> <span class="at">alert</span>(<span class="kw">this</span>.<span class="at">name</span>)<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb26-4" data-line-number="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb26-5" data-line-number="5"></a>
<a class="sourceLine" id="cb26-6" data-line-number="6"><span class="co">// split getting and calling the method in two lines</span></a>
<a class="sourceLine" id="cb26-7" data-line-number="7"><span class="kw">let</span> hi <span class="op">=</span> <span class="va">user</span>.<span class="at">hi</span><span class="op">;</span></a>
<a class="sourceLine" id="cb26-8" data-line-number="8"><span class="at">hi</span>()<span class="op">;</span> <span class="co">// Error, because this is undefined</span></a></code></pre></div>
<p>To make <code>user.hi()</code> calls work, JavaScript uses a trick  the dot '.' returns not a function, but a value of the special Reference Type. The value of Reference Type is a three-value combination <code>(base, name, strict)</code></p>
<p>Any other operation like assignment <code>hi = user.hi</code> discards the reference type as a whole.</p>
<p>So, as the result, the value of this is only passed the right way if the function is called directly using a dot <code>obj.method()</code> or square brackets <code>obj[method]()</code> syntax (they do the same here).</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">  <span class="dt">firstName</span><span class="op">:</span> <span class="st">&quot;Ilya&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3">  <span class="at">sayHi</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb27-4" data-line-number="4">    <span class="kw">let</span> arrow <span class="op">=</span> () <span class="op">=&gt;</span> <span class="at">alert</span>(<span class="kw">this</span>.<span class="at">firstName</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5">    <span class="at">arrow</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb27-6" data-line-number="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb27-7" data-line-number="7"><span class="op">};</span></a>
<a class="sourceLine" id="cb27-8" data-line-number="8"></a>
<a class="sourceLine" id="cb27-9" data-line-number="9"><span class="va">user</span>.<span class="at">sayHi</span>()<span class="op">;</span> <span class="co">// Ilya</span></a></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">function</span> <span class="at">User</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2">  <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3">  <span class="kw">this</span>.<span class="at">isAdmin</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb28-5" data-line-number="5"></a>
<a class="sourceLine" id="cb28-6" data-line-number="6"><span class="kw">let</span> user <span class="op">=</span> <span class="kw">new</span> <span class="at">User</span>(<span class="st">&quot;Jack&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb28-7" data-line-number="7"></a>
<a class="sourceLine" id="cb28-8" data-line-number="8"><span class="at">alert</span>(<span class="va">user</span>.<span class="at">name</span>)<span class="op">;</span> <span class="co">// Jack</span></a>
<a class="sourceLine" id="cb28-9" data-line-number="9"><span class="at">alert</span>(<span class="va">user</span>.<span class="at">isAdmin</span>)<span class="op">;</span> <span class="co">// false</span></a>
<a class="sourceLine" id="cb28-10" data-line-number="10"></a>
<a class="sourceLine" id="cb28-11" data-line-number="11"><span class="co">// 1. A new empty object is created and assigned to this.</span></a>
<a class="sourceLine" id="cb28-12" data-line-number="12"><span class="co">// 2. The function body executes. Usually it modifies this, adds new properties to it.</span></a>
<a class="sourceLine" id="cb28-13" data-line-number="13"><span class="co">// 3. The value of this is returned.</span></a>
<a class="sourceLine" id="cb28-14" data-line-number="14"></a>
<a class="sourceLine" id="cb28-15" data-line-number="15"></a>
<a class="sourceLine" id="cb28-16" data-line-number="16"><span class="kw">function</span> <span class="at">User</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb28-17" data-line-number="17">  <span class="cf">if</span> (<span class="op">!</span><span class="kw">new</span>.<span class="at">target</span>) <span class="op">{</span> <span class="co">// if you run me without new</span></a>
<a class="sourceLine" id="cb28-18" data-line-number="18">    <span class="cf">return</span> <span class="kw">new</span> <span class="at">User</span>(name)<span class="op">;</span> <span class="co">// ...I will add new for you</span></a>
<a class="sourceLine" id="cb28-19" data-line-number="19">  <span class="op">}</span></a>
<a class="sourceLine" id="cb28-20" data-line-number="20"></a>
<a class="sourceLine" id="cb28-21" data-line-number="21">  <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb28-22" data-line-number="22"><span class="op">}</span></a>
<a class="sourceLine" id="cb28-23" data-line-number="23"></a>
<a class="sourceLine" id="cb28-24" data-line-number="24"><span class="kw">let</span> john <span class="op">=</span> <span class="at">User</span>(<span class="st">&quot;John&quot;</span>)<span class="op">;</span> <span class="co">// redirects call to new User</span></a>
<a class="sourceLine" id="cb28-25" data-line-number="25"><span class="at">alert</span>(<span class="va">john</span>.<span class="at">name</span>)<span class="op">;</span> <span class="co">// John</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/symbol" class="uri">https://javascript.info/symbol</a></li>
</ul>
</div>
<h1 id="reference">Reference</h1>
<h2 id="global-functions">Global functions</h2>
<div class="sourceCode" id="cb29"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="at">alert</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2"></a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="co">// the same as</span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="va">window</span>.<span class="at">alert</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb29-5" data-line-number="5"></a>
<a class="sourceLine" id="cb29-6" data-line-number="6"><span class="kw">let</span> user <span class="op">=</span> <span class="st">&quot;John&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb29-7" data-line-number="7"><span class="at">alert</span>(user)<span class="op">;</span> <span class="co">// John</span></a>
<a class="sourceLine" id="cb29-8" data-line-number="8"></a>
<a class="sourceLine" id="cb29-9" data-line-number="9"><span class="at">alert</span>(<span class="va">window</span>.<span class="at">user</span>)<span class="op">;</span> <span class="co">// undefined, don&#39;t have let</span></a>
<a class="sourceLine" id="cb29-10" data-line-number="10"><span class="at">alert</span>(<span class="st">&quot;user&quot;</span> <span class="kw">in</span> window)<span class="op">;</span> <span class="co">// false</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/global-object" class="uri">https://javascript.info/global-object</a></li>
</ul>
</div>
<h3 id="alert-prompt-confirm">alert, prompt, confirm</h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="at">alert</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"></a>
<a class="sourceLine" id="cb30-3" data-line-number="3"><span class="kw">let</span> age <span class="op">=</span> <span class="at">prompt</span>(<span class="st">&#39;How old are you?&#39;</span><span class="op">,</span> <span class="dv">100</span>)<span class="op">;</span> <span class="co">// always supply a &#39;default&#39;</span></a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="at">alert</span>(<span class="vs">`You are </span><span class="sc">${</span>age<span class="sc">}</span><span class="vs"> years old!`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb30-5" data-line-number="5"></a>
<a class="sourceLine" id="cb30-6" data-line-number="6"><span class="kw">let</span> isBoss <span class="op">=</span> <span class="at">confirm</span>(<span class="st">&quot;Are you the boss?&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb30-7" data-line-number="7"><span class="at">alert</span>( isBoss )<span class="op">;</span> <span class="co">// true if OK is pressed</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/alert-prompt-confirm" class="uri">https://javascript.info/alert-prompt-confirm</a></li>
</ul>
</div>
<h3 id="encodeuri-encodeuricomponent-decodeuri-decodeuricomponent">encodeURI, encodeURIComponent, decodeURI, decodeURIComponent</h3>
<ul>
<li><code>escape</code>, <code>unescape</code> are deprecated</li>
<li>The difference between <code>-URI</code> and <code>-URIComponent</code> is following:</li>
</ul>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2017-06-03_21-15-23.png" /></p>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://stackoverflow.com/questions/75980/when-are-you-supposed-to-use-escape-instead-of-encodeuri-encodeuricomponent" class="uri">https://stackoverflow.com/questions/75980/when-are-you-supposed-to-use-escape-instead-of-encodeuri-encodeuricomponent</a></li>
</ul>
</div>
<h3 id="settimeout-setinterval">setTimeout, setInterval</h3>
<div class="sourceCode" id="cb31"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">function</span> <span class="at">sayHi</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2">  <span class="at">alert</span>(<span class="st">&#39;Hello&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb31-4" data-line-number="4"></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="at">setTimeout</span>(sayHi<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6"><span class="at">setTimeout</span>(() <span class="op">=&gt;</span> <span class="at">alert</span>(<span class="st">&#39;Hello&#39;</span>)<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb31-7" data-line-number="7"></a>
<a class="sourceLine" id="cb31-8" data-line-number="8"><span class="kw">let</span> timerId <span class="op">=</span> <span class="at">setTimeout</span>(...)<span class="op">;</span></a>
<a class="sourceLine" id="cb31-9" data-line-number="9"><span class="at">clearTimeout</span>(timerId)<span class="op">;</span></a>
<a class="sourceLine" id="cb31-10" data-line-number="10"></a>
<a class="sourceLine" id="cb31-11" data-line-number="11"><span class="co">// repeat with the interval of 2 seconds</span></a>
<a class="sourceLine" id="cb31-12" data-line-number="12"><span class="kw">let</span> timerId <span class="op">=</span> <span class="at">setInterval</span>(() <span class="op">=&gt;</span> <span class="at">alert</span>(<span class="st">&#39;tick&#39;</span>)<span class="op">,</span> <span class="dv">2000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb31-13" data-line-number="13"></a>
<a class="sourceLine" id="cb31-14" data-line-number="14"><span class="co">// after 5 seconds stop</span></a>
<a class="sourceLine" id="cb31-15" data-line-number="15"><span class="at">setTimeout</span>(() <span class="op">=&gt;</span> <span class="op">{</span> <span class="at">clearInterval</span>(timerId)<span class="op">;</span> <span class="at">alert</span>(<span class="st">&#39;stop&#39;</span>)<span class="op">;</span> <span class="op">},</span> <span class="dv">5000</span>)<span class="op">;</span></a></code></pre></div>
<p>Some use cases of <code>setTimeout(...,0)</code>:</p>
<ul>
<li>To split CPU-hungry tasks into pieces, so that the script doesnt hang</li>
<li>To let the browser do something else while the process is going on (paint the progress bar).</li>
</ul>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/settimeout-setinterval" class="uri">https://javascript.info/settimeout-setinterval</a></li>
</ul>
</div>
<h1 id="topics">Topics</h1>
<h2 id="use-strict">'use strict';</h2>
<p>Strict mode is declared by adding <code>'use strict';</code> to the beginning of a script or a function. Always use it. It's a kind of <strong>modern mode</strong></p>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/strict-mode" class="uri">https://javascript.info/strict-mode</a></li>
</ul>
</div>
<h2 id="let-const-var">let, const, var</h2>
<ul>
<li><p><code>let</code> and <code>const</code> behave exactly the same way in terms of Lexical Environments.</p></li>
<li><code>var</code> has no block scope ::</li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="cf">if</span> (<span class="kw">true</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2">  <span class="kw">var</span> test <span class="op">=</span> <span class="kw">true</span><span class="op">;</span> <span class="co">// use &quot;var&quot; instead of &quot;let&quot;</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4"></a>
<a class="sourceLine" id="cb32-5" data-line-number="5"><span class="at">alert</span>(test)<span class="op">;</span> <span class="co">// true, the variable lives after if</span></a></code></pre></div>
<dl>
<dt><code>var</code> are processed at the function start</dt>
<dd>
</dd>
</dl>
<div class="sourceCode" id="cb33"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">function</span> <span class="at">sayHi</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2">  phrase <span class="op">=</span> <span class="st">&quot;Hello&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb33-3" data-line-number="3"></a>
<a class="sourceLine" id="cb33-4" data-line-number="4">  <span class="at">alert</span>(phrase)<span class="op">;</span></a>
<a class="sourceLine" id="cb33-5" data-line-number="5"></a>
<a class="sourceLine" id="cb33-6" data-line-number="6">  <span class="kw">var</span> phrase<span class="op">;</span></a>
<a class="sourceLine" id="cb33-7" data-line-number="7"><span class="op">}</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/var" class="uri">https://javascript.info/var</a></li>
</ul>
</div>
<h2 id="type-conversions">Type Conversions</h2>
<div class="sourceCode" id="cb34"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="at">alert</span>( <span class="at">Number</span>(<span class="st">&quot;   123   &quot;</span>) )<span class="op">;</span> <span class="co">// 123</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="at">alert</span>( <span class="at">Number</span>(<span class="st">&quot;123z&quot;</span>) )<span class="op">;</span>      <span class="co">// NaN (error reading a number at &quot;z&quot;)</span></a>
<a class="sourceLine" id="cb34-3" data-line-number="3"><span class="at">alert</span>( <span class="at">Number</span>(<span class="kw">true</span>) )<span class="op">;</span>        <span class="co">// 1</span></a>
<a class="sourceLine" id="cb34-4" data-line-number="4"><span class="at">alert</span>( <span class="at">Number</span>(<span class="kw">false</span>) )<span class="op">;</span>       <span class="co">// 0</span></a>
<a class="sourceLine" id="cb34-5" data-line-number="5"><span class="at">alert</span>( <span class="at">Boolean</span>(<span class="dv">1</span>) )<span class="op">;</span>          <span class="co">// true</span></a>
<a class="sourceLine" id="cb34-6" data-line-number="6"><span class="at">alert</span>( <span class="at">Boolean</span>(<span class="dv">0</span>) )<span class="op">;</span>          <span class="co">// false</span></a>
<a class="sourceLine" id="cb34-7" data-line-number="7"><span class="at">alert</span>( <span class="at">Boolean</span>(<span class="st">&quot;hello&quot;</span>) )<span class="op">;</span>    <span class="co">// true</span></a>
<a class="sourceLine" id="cb34-8" data-line-number="8"><span class="at">alert</span>( <span class="at">Boolean</span>(<span class="st">&quot;&quot;</span>) )<span class="op">;</span>         <span class="co">// false</span></a>
<a class="sourceLine" id="cb34-9" data-line-number="9"><span class="at">alert</span>( <span class="dv">1</span> <span class="op">+</span> <span class="st">&#39;2&#39;</span> )<span class="op">;</span>             <span class="co">// &#39;12&#39; (string to the right)</span></a>
<a class="sourceLine" id="cb34-10" data-line-number="10"><span class="at">alert</span>( <span class="st">&#39;1&#39;</span> <span class="op">+</span> <span class="dv">2</span> )<span class="op">;</span>             <span class="co">// &#39;12&#39; (string to the left)</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/type-conversions" class="uri">https://javascript.info/type-conversions</a></li>
</ul>
</div>
<h2 id="check-for-an-undefined-or-null-variable">Check for an undefined or null variable</h2>
<div class="sourceCode" id="cb35" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="cf">if</span> (some_variable <span class="op">==</span> <span class="kw">null</span>)<span class="op">{</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">  <span class="co">// some_variable is either null or undefined</span></a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="op">}</span></a></code></pre></div>
<p>In general it is recommended to use <code>=</code> instead of <code>==</code>. The proposed solution is an exception to this rule. The JSHint syntax checker even provides the <code>eqnull</code> option for this reason.</p>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://stackoverflow.com/questions/2559318/how-to-check-for-an-undefined-or-null-variable-in-javascript" class="uri">https://stackoverflow.com/questions/2559318/how-to-check-for-an-undefined-or-null-variable-in-javascript</a></li>
</ul>
</div>
<h2 id="comparisons">Comparisons</h2>
<div class="sourceCode" id="cb36"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="at">alert</span>( <span class="st">&#39;2&#39;</span> <span class="op">&gt;</span> <span class="dv">1</span> )<span class="op">;</span>            <span class="co">// true, string &#39;2&#39; becomes a number 2</span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="at">alert</span>( <span class="st">&#39;01&#39;</span> <span class="op">==</span> <span class="dv">1</span> )<span class="op">;</span>          <span class="co">// true, string &#39;01&#39; becomes a number 1</span></a>
<a class="sourceLine" id="cb36-3" data-line-number="3"><span class="at">alert</span>( <span class="kw">true</span> <span class="op">==</span> <span class="dv">1</span> )<span class="op">;</span>          <span class="co">// true</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4"><span class="at">alert</span>( <span class="kw">false</span> <span class="op">==</span> <span class="dv">0</span> )<span class="op">;</span>         <span class="co">// true</span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5"><span class="at">alert</span>( <span class="st">&#39;&#39;</span> <span class="op">==</span> <span class="kw">false</span> )<span class="op">;</span>        <span class="co">// true</span></a>
<a class="sourceLine" id="cb36-6" data-line-number="6"></a>
<a class="sourceLine" id="cb36-7" data-line-number="7"><span class="at">alert</span>( <span class="dv">0</span> <span class="op">==</span> <span class="kw">false</span> )<span class="op">;</span>         <span class="co">// true</span></a>
<a class="sourceLine" id="cb36-8" data-line-number="8"><span class="at">alert</span>( <span class="dv">0</span> <span class="op">===</span> <span class="kw">false</span> )<span class="op">;</span>        <span class="co">// false, because the types are different</span></a>
<a class="sourceLine" id="cb36-9" data-line-number="9"></a>
<a class="sourceLine" id="cb36-10" data-line-number="10"><span class="at">alert</span>( <span class="kw">null</span> <span class="op">&gt;</span> <span class="dv">0</span> )<span class="op">;</span>           <span class="co">// false</span></a>
<a class="sourceLine" id="cb36-11" data-line-number="11"><span class="at">alert</span>( <span class="kw">null</span> <span class="op">==</span> <span class="dv">0</span> )<span class="op">;</span>          <span class="co">// false, null special rule applied</span></a>
<a class="sourceLine" id="cb36-12" data-line-number="12"><span class="at">alert</span>( <span class="kw">null</span> <span class="op">&gt;=</span> <span class="dv">0</span> )<span class="op">;</span>          <span class="co">// true,  null is converted to 0</span></a>
<a class="sourceLine" id="cb36-13" data-line-number="13"></a>
<a class="sourceLine" id="cb36-14" data-line-number="14"><span class="at">alert</span>( <span class="kw">null</span> <span class="op">==</span> <span class="kw">undefined</span> )<span class="op">;</span>  <span class="co">// true</span></a>
<a class="sourceLine" id="cb36-15" data-line-number="15"><span class="at">alert</span>( <span class="kw">null</span> <span class="op">===</span> <span class="kw">undefined</span> )<span class="op">;</span> <span class="co">// false</span></a></code></pre></div>
<ul>
<li>Use <code>===</code> much more often than <code>==</code>.</li>
<li><code>null</code> and <code>undefined</code> equal <code>==</code> each other and do not equal any other value.</li>
<li>Dont use comparisons <code>&gt;=</code> <code>&gt;</code> <code>&lt;</code> <code>&lt;=</code> with a variable which may be <code>null</code> / <code>undefined</code></li>
</ul>
<h2 id="style-guides">Style Guides</h2>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/coding-style" class="uri">https://javascript.info/coding-style</a></li>
<li><a href="https://github.com/rwaldron/idiomatic.js" class="uri">https://github.com/rwaldron/idiomatic.js</a></li>
<li><a href="https://google.github.io/styleguide/javascriptguide.xml" class="uri">https://google.github.io/styleguide/javascriptguide.xml</a></li>
</ul>
</div>
<h2 id="garbage-collection">Garbage collection</h2>
<ul>
<li>Mark and sweep</li>
<li>Generational collection</li>
<li>Incremental collection</li>
<li>Idle-time collection</li>
</ul>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/garbage-collection" class="uri">https://javascript.info/garbage-collection</a></li>
<li><a href="http://jayconrod.com/posts/55/a-tour-of-v8-garbage-collection" class="uri">http://jayconrod.com/posts/55/a-tour-of-v8-garbage-collection</a></li>
</ul>
</div>
<h2 id="destructuring">Destructuring</h2>
<div class="sourceCode" id="cb37"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="co">// let [firstName, surname] = arr;</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="kw">let</span> firstName <span class="op">=</span> arr[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb37-3" data-line-number="3"><span class="kw">let</span> surname <span class="op">=</span> arr[<span class="dv">1</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb37-4" data-line-number="4"></a>
<a class="sourceLine" id="cb37-5" data-line-number="5"><span class="co">// first and second elements are not needed</span></a>
<a class="sourceLine" id="cb37-6" data-line-number="6"><span class="kw">let</span> [<span class="op">,</span> <span class="op">,</span> title] <span class="op">=</span> [<span class="st">&quot;Julius&quot;</span><span class="op">,</span> <span class="st">&quot;Caesar&quot;</span><span class="op">,</span> <span class="st">&quot;Consul&quot;</span><span class="op">,</span> <span class="st">&quot;of the Roman Republic&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb37-7" data-line-number="7"></a>
<a class="sourceLine" id="cb37-8" data-line-number="8"><span class="at">alert</span>( title )<span class="op">;</span> <span class="co">// Consul</span></a>
<a class="sourceLine" id="cb37-9" data-line-number="9"></a>
<a class="sourceLine" id="cb37-10" data-line-number="10"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb37-11" data-line-number="11">[<span class="va">user</span>.<span class="at">name</span><span class="op">,</span> <span class="va">user</span>.<span class="at">surname</span>] <span class="op">=</span> <span class="st">&quot;Ilya Kantor&quot;</span>.<span class="at">split</span>(<span class="st">&#39; &#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb37-12" data-line-number="12"></a>
<a class="sourceLine" id="cb37-13" data-line-number="13"><span class="at">alert</span>(<span class="va">user</span>.<span class="at">name</span>)<span class="op">;</span> <span class="co">// Ilya</span></a>
<a class="sourceLine" id="cb37-14" data-line-number="14"></a>
<a class="sourceLine" id="cb37-15" data-line-number="15"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb37-16" data-line-number="16">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb37-17" data-line-number="17">  <span class="dt">age</span><span class="op">:</span> <span class="dv">30</span></a>
<a class="sourceLine" id="cb37-18" data-line-number="18"><span class="op">};</span></a>
<a class="sourceLine" id="cb37-19" data-line-number="19"></a>
<a class="sourceLine" id="cb37-20" data-line-number="20"><span class="co">// loop over keys-and-values</span></a>
<a class="sourceLine" id="cb37-21" data-line-number="21"><span class="cf">for</span> (<span class="kw">let</span> [key<span class="op">,</span> value] of <span class="va">Object</span>.<span class="at">entries</span>(user)) <span class="op">{</span></a>
<a class="sourceLine" id="cb37-22" data-line-number="22">  <span class="at">alert</span>(<span class="vs">`</span><span class="sc">${</span>key<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span>value<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span> <span class="co">// name:John, then age:30</span></a>
<a class="sourceLine" id="cb37-23" data-line-number="23"><span class="op">}</span></a>
<a class="sourceLine" id="cb37-24" data-line-number="24"></a>
<a class="sourceLine" id="cb37-25" data-line-number="25"><span class="kw">let</span> [name1<span class="op">,</span> name2<span class="op">,</span> ...<span class="at">rest</span>] <span class="op">=</span> [<span class="st">&quot;Julius&quot;</span><span class="op">,</span> <span class="st">&quot;Caesar&quot;</span><span class="op">,</span> <span class="st">&quot;Consul&quot;</span><span class="op">,</span> <span class="st">&quot;of the Roman Republic&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb37-26" data-line-number="26"></a>
<a class="sourceLine" id="cb37-27" data-line-number="27"><span class="at">alert</span>(name1)<span class="op">;</span> <span class="co">// Julius</span></a>
<a class="sourceLine" id="cb37-28" data-line-number="28"><span class="at">alert</span>(name2)<span class="op">;</span> <span class="co">// Caesar</span></a>
<a class="sourceLine" id="cb37-29" data-line-number="29"></a>
<a class="sourceLine" id="cb37-30" data-line-number="30"><span class="at">alert</span>(rest[<span class="dv">0</span>])<span class="op">;</span> <span class="co">// Consul</span></a>
<a class="sourceLine" id="cb37-31" data-line-number="31"><span class="at">alert</span>(rest[<span class="dv">1</span>])<span class="op">;</span> <span class="co">// of the Roman Republic</span></a>
<a class="sourceLine" id="cb37-32" data-line-number="32"><span class="at">alert</span>(<span class="va">rest</span>.<span class="at">length</span>)<span class="op">;</span> <span class="co">// 2</span></a>
<a class="sourceLine" id="cb37-33" data-line-number="33"></a>
<a class="sourceLine" id="cb37-34" data-line-number="34"><span class="co">// default values</span></a>
<a class="sourceLine" id="cb37-35" data-line-number="35"><span class="kw">let</span> [name <span class="op">=</span> <span class="st">&quot;Guest&quot;</span><span class="op">,</span> surname <span class="op">=</span> <span class="st">&quot;Anonymous&quot;</span>] <span class="op">=</span> [<span class="st">&quot;Julius&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb37-36" data-line-number="36"></a>
<a class="sourceLine" id="cb37-37" data-line-number="37"><span class="at">alert</span>(name)<span class="op">;</span>    <span class="co">// Julius (from array)</span></a>
<a class="sourceLine" id="cb37-38" data-line-number="38"><span class="at">alert</span>(surname)<span class="op">;</span> <span class="co">// Anonymous (default used)</span></a>
<a class="sourceLine" id="cb37-39" data-line-number="39"></a>
<a class="sourceLine" id="cb37-40" data-line-number="40"><span class="kw">let</span> options <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb37-41" data-line-number="41">  <span class="dt">title</span><span class="op">:</span> <span class="st">&quot;Menu&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb37-42" data-line-number="42">  <span class="dt">width</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span></a>
<a class="sourceLine" id="cb37-43" data-line-number="43">  <span class="dt">height</span><span class="op">:</span> <span class="dv">200</span></a>
<a class="sourceLine" id="cb37-44" data-line-number="44"><span class="op">};</span></a>
<a class="sourceLine" id="cb37-45" data-line-number="45"></a>
<a class="sourceLine" id="cb37-46" data-line-number="46"><span class="kw">let</span> <span class="op">{</span>title<span class="op">,</span> width<span class="op">,</span> height<span class="op">}</span> <span class="op">=</span> options<span class="op">;</span></a>
<a class="sourceLine" id="cb37-47" data-line-number="47"></a>
<a class="sourceLine" id="cb37-48" data-line-number="48"><span class="at">alert</span>(title)<span class="op">;</span>  <span class="co">// Menu</span></a>
<a class="sourceLine" id="cb37-49" data-line-number="49"><span class="at">alert</span>(width)<span class="op">;</span>  <span class="co">// 100</span></a>
<a class="sourceLine" id="cb37-50" data-line-number="50"><span class="at">alert</span>(height)<span class="op">;</span> <span class="co">// 200</span></a>
<a class="sourceLine" id="cb37-51" data-line-number="51"></a>
<a class="sourceLine" id="cb37-52" data-line-number="52"><span class="kw">let</span> options <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb37-53" data-line-number="53">  <span class="dt">title</span><span class="op">:</span> <span class="st">&quot;Menu&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb37-54" data-line-number="54">  <span class="dt">width</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span></a>
<a class="sourceLine" id="cb37-55" data-line-number="55">  <span class="dt">height</span><span class="op">:</span> <span class="dv">200</span></a>
<a class="sourceLine" id="cb37-56" data-line-number="56"><span class="op">};</span></a>
<a class="sourceLine" id="cb37-57" data-line-number="57"></a>
<a class="sourceLine" id="cb37-58" data-line-number="58"><span class="co">// { sourceProperty: targetVariable }</span></a>
<a class="sourceLine" id="cb37-59" data-line-number="59"><span class="kw">let</span> <span class="op">{</span><span class="dt">width</span><span class="op">:</span> w<span class="op">,</span> <span class="dt">height</span><span class="op">:</span> h<span class="op">,</span> title<span class="op">}</span> <span class="op">=</span> options<span class="op">;</span></a>
<a class="sourceLine" id="cb37-60" data-line-number="60"></a>
<a class="sourceLine" id="cb37-61" data-line-number="61"><span class="co">// width -&gt; w</span></a>
<a class="sourceLine" id="cb37-62" data-line-number="62"><span class="co">// height -&gt; h</span></a>
<a class="sourceLine" id="cb37-63" data-line-number="63"><span class="co">// title -&gt; title</span></a>
<a class="sourceLine" id="cb37-64" data-line-number="64"></a>
<a class="sourceLine" id="cb37-65" data-line-number="65"><span class="at">alert</span>(title)<span class="op">;</span>  <span class="co">// Menu</span></a>
<a class="sourceLine" id="cb37-66" data-line-number="66"><span class="at">alert</span>(w)<span class="op">;</span>      <span class="co">// 100</span></a>
<a class="sourceLine" id="cb37-67" data-line-number="67"><span class="at">alert</span>(h)<span class="op">;</span>      <span class="co">// 200</span></a>
<a class="sourceLine" id="cb37-68" data-line-number="68"></a>
<a class="sourceLine" id="cb37-69" data-line-number="69"><span class="kw">let</span> options <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb37-70" data-line-number="70">  <span class="dt">title</span><span class="op">:</span> <span class="st">&quot;Menu&quot;</span></a>
<a class="sourceLine" id="cb37-71" data-line-number="71"><span class="op">};</span></a>
<a class="sourceLine" id="cb37-72" data-line-number="72"></a>
<a class="sourceLine" id="cb37-73" data-line-number="73"><span class="kw">let</span> <span class="op">{</span><span class="dt">width</span><span class="op">:</span> w <span class="op">=</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">height</span><span class="op">:</span> h <span class="op">=</span> <span class="dv">200</span><span class="op">,</span> title<span class="op">}</span> <span class="op">=</span> options<span class="op">;</span></a>
<a class="sourceLine" id="cb37-74" data-line-number="74"></a>
<a class="sourceLine" id="cb37-75" data-line-number="75"><span class="at">alert</span>(title)<span class="op">;</span>  <span class="co">// Menu</span></a>
<a class="sourceLine" id="cb37-76" data-line-number="76"><span class="at">alert</span>(w)<span class="op">;</span>      <span class="co">// 100</span></a>
<a class="sourceLine" id="cb37-77" data-line-number="77"><span class="at">alert</span>(h)<span class="op">;</span>      <span class="co">// 200</span></a></code></pre></div>
<div class="sourceCode" id="cb38"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw">let</span> title<span class="op">,</span> width<span class="op">,</span> height<span class="op">;</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2"></a>
<a class="sourceLine" id="cb38-3" data-line-number="3"><span class="co">// error in this line</span></a>
<a class="sourceLine" id="cb38-4" data-line-number="4"><span class="op">{</span>title<span class="op">,</span> width<span class="op">,</span> height<span class="op">}</span> <span class="op">=</span> <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&quot;Menu&quot;</span><span class="op">,</span> <span class="dt">width</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span> <span class="dt">height</span><span class="op">:</span> <span class="dv">100</span><span class="op">};</span></a>
<a class="sourceLine" id="cb38-5" data-line-number="5"></a>
<a class="sourceLine" id="cb38-6" data-line-number="6"><span class="co">// okay now</span></a>
<a class="sourceLine" id="cb38-7" data-line-number="7">(<span class="op">{</span>title<span class="op">,</span> width<span class="op">,</span> height<span class="op">}</span> <span class="op">=</span> <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&quot;Menu&quot;</span><span class="op">,</span> <span class="dt">width</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span> <span class="dt">height</span><span class="op">:</span> <span class="dv">100</span><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb38-8" data-line-number="8"></a>
<a class="sourceLine" id="cb38-9" data-line-number="9"><span class="at">alert</span>( title )<span class="op">;</span> <span class="co">// Menu</span></a></code></pre></div>
<div class="sourceCode" id="cb39"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="co">// we pass object to function</span></a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="kw">let</span> options <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb39-3" data-line-number="3">  <span class="dt">title</span><span class="op">:</span> <span class="st">&quot;My menu&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb39-4" data-line-number="4">  <span class="dt">items</span><span class="op">:</span> [<span class="st">&quot;Item1&quot;</span><span class="op">,</span> <span class="st">&quot;Item2&quot;</span>]</a>
<a class="sourceLine" id="cb39-5" data-line-number="5"><span class="op">};</span></a>
<a class="sourceLine" id="cb39-6" data-line-number="6"></a>
<a class="sourceLine" id="cb39-7" data-line-number="7"><span class="co">// ...and it immediately expands it to variables</span></a>
<a class="sourceLine" id="cb39-8" data-line-number="8"><span class="kw">function</span> <span class="at">showMenu</span>(<span class="op">{</span>title <span class="op">=</span> <span class="st">&quot;Untitled&quot;</span><span class="op">,</span> width <span class="op">=</span> <span class="dv">200</span><span class="op">,</span> height <span class="op">=</span> <span class="dv">100</span><span class="op">,</span> items <span class="op">=</span> []<span class="op">}</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb39-9" data-line-number="9">  <span class="co">// title, items  taken from options,</span></a>
<a class="sourceLine" id="cb39-10" data-line-number="10">  <span class="co">// width, height  defaults used</span></a>
<a class="sourceLine" id="cb39-11" data-line-number="11">  <span class="at">alert</span>( <span class="vs">`</span><span class="sc">${</span>title<span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>width<span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>height<span class="sc">}</span><span class="vs">`</span> )<span class="op">;</span> <span class="co">// My Menu 200 100</span></a>
<a class="sourceLine" id="cb39-12" data-line-number="12">  <span class="at">alert</span>( items )<span class="op">;</span> <span class="co">// Item1, Item2</span></a>
<a class="sourceLine" id="cb39-13" data-line-number="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb39-14" data-line-number="14"></a>
<a class="sourceLine" id="cb39-15" data-line-number="15"><span class="at">showMenu</span>(options)<span class="op">;</span></a></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="co">// these two calls are almost the same:</span></a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="at">func</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="va">func</span>.<span class="at">apply</span>(context<span class="op">,</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>])</a>
<a class="sourceLine" id="cb40-4" data-line-number="4"></a>
<a class="sourceLine" id="cb40-5" data-line-number="5"><span class="co">// The only syntax difference between call and apply is that call expects a list of arguments, while apply takes an array-like object with them.</span></a>
<a class="sourceLine" id="cb40-6" data-line-number="6"><span class="kw">let</span> args <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb40-7" data-line-number="7"><span class="va">func</span>.<span class="at">call</span>(context<span class="op">,</span> ...<span class="at">args</span>)<span class="op">;</span> <span class="co">// pass an array as list with spread operator</span></a>
<a class="sourceLine" id="cb40-8" data-line-number="8"><span class="va">func</span>.<span class="at">apply</span>(context<span class="op">,</span> args)<span class="op">;</span>   <span class="co">// is same as using apply</span></a>
<a class="sourceLine" id="cb40-9" data-line-number="9"></a>
<a class="sourceLine" id="cb40-10" data-line-number="10"><span class="co">// method borrowing (Use Array method with iterable)</span></a>
<a class="sourceLine" id="cb40-11" data-line-number="11"><span class="kw">function</span> <span class="at">hash</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb40-12" data-line-number="12">  <span class="at">alert</span>( [].<span class="va">join</span>.<span class="at">call</span>(arguments) )<span class="op">;</span> <span class="co">// 1,2</span></a>
<a class="sourceLine" id="cb40-13" data-line-number="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb40-14" data-line-number="14"></a>
<a class="sourceLine" id="cb40-15" data-line-number="15"><span class="at">hash</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb40-16" data-line-number="16"></a>
<a class="sourceLine" id="cb40-17" data-line-number="17"><span class="kw">function</span> <span class="at">showArgs</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb40-18" data-line-number="18">  <span class="at">alert</span>( <span class="va">Array</span>.<span class="va">prototype</span>.<span class="va">join</span>.<span class="at">call</span>(arguments<span class="op">,</span> <span class="st">&quot; - &quot;</span>) )<span class="op">;</span></a>
<a class="sourceLine" id="cb40-19" data-line-number="19"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="at">setTimeout</span>(() <span class="op">=&gt;</span> <span class="va">user</span>.<span class="at">sayHi</span>()<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span> <span class="co">// Hello, John!, but problematic</span></a>
<a class="sourceLine" id="cb41-2" data-line-number="2"></a>
<a class="sourceLine" id="cb41-3" data-line-number="3"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb41-4" data-line-number="4">  <span class="dt">firstName</span><span class="op">:</span> <span class="st">&quot;John&quot;</span></a>
<a class="sourceLine" id="cb41-5" data-line-number="5"><span class="op">};</span></a>
<a class="sourceLine" id="cb41-6" data-line-number="6"></a>
<a class="sourceLine" id="cb41-7" data-line-number="7"><span class="kw">function</span> <span class="at">func</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb41-8" data-line-number="8">  <span class="at">alert</span>(<span class="kw">this</span>.<span class="at">firstName</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb41-9" data-line-number="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb41-10" data-line-number="10"></a>
<a class="sourceLine" id="cb41-11" data-line-number="11"><span class="kw">let</span> funcUser <span class="op">=</span> <span class="va">func</span>.<span class="at">bind</span>(user)<span class="op">;</span></a>
<a class="sourceLine" id="cb41-12" data-line-number="12"><span class="at">funcUser</span>()<span class="op">;</span> <span class="co">// John</span></a>
<a class="sourceLine" id="cb41-13" data-line-number="13"></a>
<a class="sourceLine" id="cb41-14" data-line-number="14"></a>
<a class="sourceLine" id="cb41-15" data-line-number="15"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb41-16" data-line-number="16">  <span class="dt">firstName</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb41-17" data-line-number="17">  <span class="at">say</span>(phrase) <span class="op">{</span></a>
<a class="sourceLine" id="cb41-18" data-line-number="18">    <span class="at">alert</span>(<span class="vs">`</span><span class="sc">${</span>phrase<span class="sc">}</span><span class="vs">, </span><span class="sc">${</span><span class="kw">this</span>.<span class="at">firstName</span><span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb41-19" data-line-number="19">  <span class="op">}</span></a>
<a class="sourceLine" id="cb41-20" data-line-number="20"><span class="op">};</span></a>
<a class="sourceLine" id="cb41-21" data-line-number="21"></a>
<a class="sourceLine" id="cb41-22" data-line-number="22"><span class="kw">let</span> say <span class="op">=</span> <span class="va">user</span>.<span class="va">say</span>.<span class="at">bind</span>(user)<span class="op">;</span></a>
<a class="sourceLine" id="cb41-23" data-line-number="23"></a>
<a class="sourceLine" id="cb41-24" data-line-number="24"><span class="at">say</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span> <span class="co">// Hello, John (&quot;Hello&quot; argument is passed to say)</span></a>
<a class="sourceLine" id="cb41-25" data-line-number="25"><span class="at">say</span>(<span class="st">&quot;Bye&quot;</span>)<span class="op">;</span> <span class="co">// Bye, John (&quot;Bye&quot; is passed to say)</span></a></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw">function</span> <span class="at">partial</span>(func<span class="op">,</span> ...<span class="at">argsBound</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2">  <span class="cf">return</span> <span class="kw">function</span>(...<span class="at">args</span>) <span class="op">{</span> <span class="co">// (*)</span></a>
<a class="sourceLine" id="cb42-3" data-line-number="3">    <span class="cf">return</span> <span class="va">func</span>.<span class="at">call</span>(<span class="kw">this</span><span class="op">,</span> ...<span class="at">argsBound</span><span class="op">,</span> ...<span class="at">args</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb42-4" data-line-number="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb42-5" data-line-number="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb42-6" data-line-number="6"></a>
<a class="sourceLine" id="cb42-7" data-line-number="7"><span class="co">// Usage:</span></a>
<a class="sourceLine" id="cb42-8" data-line-number="8"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb42-9" data-line-number="9">  <span class="dt">firstName</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb42-10" data-line-number="10">  <span class="at">say</span>(time<span class="op">,</span> phrase) <span class="op">{</span></a>
<a class="sourceLine" id="cb42-11" data-line-number="11">    <span class="at">alert</span>(<span class="vs">`[</span><span class="sc">${</span>time<span class="sc">}</span><span class="vs">] </span><span class="sc">${</span><span class="kw">this</span>.<span class="at">firstName</span><span class="sc">}</span><span class="vs">: </span><span class="sc">${</span>phrase<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb42-12" data-line-number="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb42-13" data-line-number="13"><span class="op">};</span></a>
<a class="sourceLine" id="cb42-14" data-line-number="14"></a>
<a class="sourceLine" id="cb42-15" data-line-number="15"><span class="co">// add a partial method that says something now by fixing the first argument</span></a>
<a class="sourceLine" id="cb42-16" data-line-number="16"><span class="va">user</span>.<span class="at">sayNow</span> <span class="op">=</span> <span class="at">partial</span>(<span class="va">user</span>.<span class="at">say</span><span class="op">,</span> <span class="kw">new</span> <span class="at">Date</span>().<span class="at">getHours</span>() <span class="op">+</span> <span class="st">&#39;:&#39;</span> <span class="op">+</span> <span class="kw">new</span> <span class="at">Date</span>().<span class="at">getMinutes</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb42-17" data-line-number="17"></a>
<a class="sourceLine" id="cb42-18" data-line-number="18"><span class="va">user</span>.<span class="at">sayNow</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb42-19" data-line-number="19"><span class="co">// Something like:</span></a>
<a class="sourceLine" id="cb42-20" data-line-number="20"><span class="co">// [10:00] Hello, John!</span></a>
<a class="sourceLine" id="cb42-21" data-line-number="21"></a>
<a class="sourceLine" id="cb42-22" data-line-number="22"><span class="kw">function</span> <span class="at">curry</span>(f) <span class="op">{</span></a>
<a class="sourceLine" id="cb42-23" data-line-number="23">  <span class="cf">return</span> <span class="kw">function</span>(..<span class="at">args</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb42-24" data-line-number="24">    <span class="co">// if args.length == f.length (as many arguments as f has),</span></a>
<a class="sourceLine" id="cb42-25" data-line-number="25">    <span class="co">//   then pass the call to f</span></a>
<a class="sourceLine" id="cb42-26" data-line-number="26">    <span class="co">// otherwise return a partial function that fixes args as first arguments</span></a>
<a class="sourceLine" id="cb42-27" data-line-number="27">  <span class="op">};</span></a>
<a class="sourceLine" id="cb42-28" data-line-number="28"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb43"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb43-2" data-line-number="2"></a>
<a class="sourceLine" id="cb43-3" data-line-number="3"><span class="va">Object</span>.<span class="at">defineProperty</span>(user<span class="op">,</span> <span class="st">&quot;name&quot;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb43-4" data-line-number="4">  <span class="dt">value</span><span class="op">:</span> <span class="st">&quot;John&quot;</span></a>
<a class="sourceLine" id="cb43-5" data-line-number="5"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-6" data-line-number="6"></a>
<a class="sourceLine" id="cb43-7" data-line-number="7"><span class="kw">let</span> descriptor <span class="op">=</span> <span class="va">Object</span>.<span class="at">getOwnPropertyDescriptor</span>(user<span class="op">,</span> <span class="st">&#39;name&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-8" data-line-number="8"></a>
<a class="sourceLine" id="cb43-9" data-line-number="9"><span class="at">alert</span>( <span class="va">JSON</span>.<span class="at">stringify</span>(descriptor<span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="dv">2</span> ) )<span class="op">;</span></a>
<a class="sourceLine" id="cb43-10" data-line-number="10"><span class="co">/*</span></a>
<a class="sourceLine" id="cb43-11" data-line-number="11"><span class="co">  {</span></a>
<a class="sourceLine" id="cb43-12" data-line-number="12"><span class="co">  &quot;value&quot;: &quot;John&quot;,</span></a>
<a class="sourceLine" id="cb43-13" data-line-number="13"><span class="co">  &quot;writable&quot;: false,</span></a>
<a class="sourceLine" id="cb43-14" data-line-number="14"><span class="co">  &quot;enumerable&quot;: false,</span></a>
<a class="sourceLine" id="cb43-15" data-line-number="15"><span class="co">  &quot;configurable&quot;: false</span></a>
<a class="sourceLine" id="cb43-16" data-line-number="16"><span class="co">  }</span></a>
<a class="sourceLine" id="cb43-17" data-line-number="17"><span class="co">*/</span></a></code></pre></div>
<dl>
<dt>writable</dt>
<dd>if true, can be changed, otherwise its read-only.
</dd>
<dt>enumerable</dt>
<dd>if true, then listed in loops, otherwise not listed.
</dd>
<dt>configurable</dt>
<dd>if true, the property can be deleted and these attributes can be modified, otherwise not.
</dd>
</dl>
<div class="sourceCode" id="cb44"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="kw">let</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb44-2" data-line-number="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-3" data-line-number="3">  <span class="dt">surname</span><span class="op">:</span> <span class="st">&quot;Smith&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-4" data-line-number="4"></a>
<a class="sourceLine" id="cb44-5" data-line-number="5">  get <span class="at">fullName</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb44-6" data-line-number="6">    <span class="cf">return</span> <span class="vs">`</span><span class="sc">${</span><span class="kw">this</span>.<span class="at">name</span><span class="sc">}</span><span class="vs"> </span><span class="sc">${</span><span class="kw">this</span>.<span class="at">surname</span><span class="sc">}</span><span class="vs">`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb44-7" data-line-number="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb44-8" data-line-number="8"><span class="op">};</span></a>
<a class="sourceLine" id="cb44-9" data-line-number="9"></a>
<a class="sourceLine" id="cb44-10" data-line-number="10"><span class="at">alert</span>(<span class="va">user</span>.<span class="at">fullName</span>)<span class="op">;</span> <span class="co">// John Smith</span></a></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="kw">let</span> animal <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb45-2" data-line-number="2">  <span class="dt">eats</span><span class="op">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb45-3" data-line-number="3"><span class="op">};</span></a>
<a class="sourceLine" id="cb45-4" data-line-number="4"><span class="kw">let</span> rabbit <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb45-5" data-line-number="5">  <span class="dt">jumps</span><span class="op">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb45-6" data-line-number="6"><span class="op">};</span></a>
<a class="sourceLine" id="cb45-7" data-line-number="7"></a>
<a class="sourceLine" id="cb45-8" data-line-number="8"><span class="va">rabbit</span>.<span class="at">__proto__</span> <span class="op">=</span> animal<span class="op">;</span></a>
<a class="sourceLine" id="cb45-9" data-line-number="9"></a>
<a class="sourceLine" id="cb45-10" data-line-number="10"></a>
<a class="sourceLine" id="cb45-11" data-line-number="11"><span class="co">// animal has methods</span></a>
<a class="sourceLine" id="cb45-12" data-line-number="12"><span class="kw">let</span> animal <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb45-13" data-line-number="13">  <span class="at">walk</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb45-14" data-line-number="14">    <span class="cf">if</span> (<span class="op">!</span><span class="kw">this</span>.<span class="at">isSleeping</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb45-15" data-line-number="15">      <span class="at">alert</span>(<span class="vs">`I walk`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb45-16" data-line-number="16">    <span class="op">}</span></a>
<a class="sourceLine" id="cb45-17" data-line-number="17">  <span class="op">},</span></a>
<a class="sourceLine" id="cb45-18" data-line-number="18">  <span class="at">sleep</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb45-19" data-line-number="19">    <span class="kw">this</span>.<span class="at">isSleeping</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb45-20" data-line-number="20">  <span class="op">}</span></a>
<a class="sourceLine" id="cb45-21" data-line-number="21"><span class="op">};</span></a>
<a class="sourceLine" id="cb45-22" data-line-number="22"></a>
<a class="sourceLine" id="cb45-23" data-line-number="23"><span class="kw">let</span> rabbit <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb45-24" data-line-number="24">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;White Rabbit&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb45-25" data-line-number="25">  <span class="dt">__proto__</span><span class="op">:</span> animal</a>
<a class="sourceLine" id="cb45-26" data-line-number="26"><span class="op">};</span></a>
<a class="sourceLine" id="cb45-27" data-line-number="27"></a>
<a class="sourceLine" id="cb45-28" data-line-number="28"><span class="co">// modifies rabbit.isSleeping</span></a>
<a class="sourceLine" id="cb45-29" data-line-number="29"><span class="va">rabbit</span>.<span class="at">sleep</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb45-30" data-line-number="30"></a>
<a class="sourceLine" id="cb45-31" data-line-number="31"><span class="at">alert</span>(<span class="va">rabbit</span>.<span class="at">isSleeping</span>)<span class="op">;</span> <span class="co">// true</span></a>
<a class="sourceLine" id="cb45-32" data-line-number="32"><span class="at">alert</span>(<span class="va">animal</span>.<span class="at">isSleeping</span>)<span class="op">;</span> <span class="co">// undefined (no such property in the prototype)</span></a></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="kw">let</span> animal <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb46-2" data-line-number="2">  <span class="dt">eats</span><span class="op">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb46-3" data-line-number="3"><span class="op">};</span></a>
<a class="sourceLine" id="cb46-4" data-line-number="4"></a>
<a class="sourceLine" id="cb46-5" data-line-number="5"><span class="kw">function</span> <span class="at">Rabbit</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb46-6" data-line-number="6">  <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb46-7" data-line-number="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb46-8" data-line-number="8"></a>
<a class="sourceLine" id="cb46-9" data-line-number="9"><span class="va">Rabbit</span>.<span class="at">prototype</span> <span class="op">=</span> animal<span class="op">;</span></a>
<a class="sourceLine" id="cb46-10" data-line-number="10"></a>
<a class="sourceLine" id="cb46-11" data-line-number="11"><span class="kw">let</span> rabbit <span class="op">=</span> <span class="kw">new</span> <span class="at">Rabbit</span>(<span class="st">&quot;White Rabbit&quot;</span>)<span class="op">;</span> <span class="co">//  rabbit.__proto__ == animal</span></a>
<a class="sourceLine" id="cb46-12" data-line-number="12"></a>
<a class="sourceLine" id="cb46-13" data-line-number="13"><span class="at">alert</span>( <span class="va">rabbit</span>.<span class="at">eats</span> )<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2018-03-03_10-05-01.png" /></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb47-1" data-line-number="1"><span class="kw">function</span> <span class="at">Rabbit</span>() <span class="op">{}</span></a>
<a class="sourceLine" id="cb47-2" data-line-number="2"><span class="co">// by default:</span></a>
<a class="sourceLine" id="cb47-3" data-line-number="3"><span class="co">// Rabbit.prototype = { constructor: Rabbit }</span></a>
<a class="sourceLine" id="cb47-4" data-line-number="4"></a>
<a class="sourceLine" id="cb47-5" data-line-number="5"><span class="kw">let</span> rabbit <span class="op">=</span> <span class="kw">new</span> <span class="at">Rabbit</span>()<span class="op">;</span> <span class="co">// inherits from {constructor: Rabbit}</span></a>
<a class="sourceLine" id="cb47-6" data-line-number="6"></a>
<a class="sourceLine" id="cb47-7" data-line-number="7"><span class="at">alert</span>(<span class="va">rabbit</span>.<span class="at">constructor</span> <span class="op">==</span> Rabbit)<span class="op">;</span> <span class="co">// true (from prototype)</span></a></code></pre></div>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2018-03-03_10-06-16.png" /></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="kw">function</span> <span class="at">Rabbit</span>() <span class="op">{}</span></a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="va">Rabbit</span>.<span class="at">prototype</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb48-3" data-line-number="3">  <span class="dt">jumps</span><span class="op">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb48-4" data-line-number="4"><span class="op">};</span></a>
<a class="sourceLine" id="cb48-5" data-line-number="5"></a>
<a class="sourceLine" id="cb48-6" data-line-number="6"><span class="kw">let</span> rabbit <span class="op">=</span> <span class="kw">new</span> <span class="at">Rabbit</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb48-7" data-line-number="7"><span class="at">alert</span>(<span class="va">rabbit</span>.<span class="at">constructor</span> <span class="op">===</span> Rabbit)<span class="op">;</span> <span class="co">// false</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/destructuring-assignment" class="uri">https://javascript.info/destructuring-assignment</a></li>
</ul>
</div>
<h2 id="prototypes">Prototypes</h2>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/native-prototypes" class="uri">https://javascript.info/native-prototypes</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain" class="uri">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/proto" class="uri">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/proto</a></li>
</ul>
</div>
<dl>
<dt><code>obj.prototype</code></dt>
<dd>is used by children
</dd>
<dt><code>obj.__proto__</code></dt>
<dd>links to parents
</dd>
</dl>
<p>~_<sub>proto</sub>__~ is deprecated in favor of <code>Object.getPrototypeOf</code> / <code>Reflect.getPrototypeOf</code> and <code>Object.setPrototypeOf</code> / <code>Reflect.setPrototypeOf</code></p>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2018-03-03_10-08-16.png" /></p>
<p><code>__proto__</code> getter function exposes the value of the internal <em>Prototype</em> of an object. For objects created using an object literal, this value is <code>Object.prototype</code>.</p>
<p>The <code>proto</code> setter allows the <em>Prototype</em> of an object to be mutated. The object must be extensible according to <code>Object.isExtensible()</code>: if it is not, a <code>TypeError</code> is thrown. The value provided must be an <code>object</code> or <code>null</code>. Providing any other value will do nothing.</p>
<p><code>x.__proto__</code> has a property setter, which takes the value as a prototype(<code>null</code>, or <code>object</code>), not the value itself. So, it's impossible to set the actual value to the property named <code>__proto__</code>. To do that, we should create a plain object(without default <code>Object.prototype</code>) as follows:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb49-1" data-line-number="1"><span class="kw">let</span> obj <span class="op">=</span> <span class="va">Object</span>.<span class="at">create</span>(<span class="kw">null</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb49-2" data-line-number="2"></a>
<a class="sourceLine" id="cb49-3" data-line-number="3"><span class="kw">let</span> key <span class="op">=</span> <span class="at">prompt</span>(<span class="st">&quot;What&#39;s the key?&quot;</span><span class="op">,</span> <span class="st">&quot;__proto__&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb49-4" data-line-number="4">obj[key] <span class="op">=</span> <span class="st">&quot;some value&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb49-5" data-line-number="5"></a>
<a class="sourceLine" id="cb49-6" data-line-number="6"><span class="at">alert</span>(obj[key])<span class="op">;</span> <span class="co">// &quot;some value&quot;</span></a></code></pre></div>
<h2 id="inheritance">Inheritance</h2>
<div class="sourceCode" id="cb50"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="co">// Same Animal as before</span></a>
<a class="sourceLine" id="cb50-2" data-line-number="2"><span class="kw">function</span> <span class="at">Animal</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb50-3" data-line-number="3">  <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb50-4" data-line-number="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb50-5" data-line-number="5"></a>
<a class="sourceLine" id="cb50-6" data-line-number="6"><span class="co">// All animals can eat, right?</span></a>
<a class="sourceLine" id="cb50-7" data-line-number="7"><span class="va">Animal</span>.<span class="va">prototype</span>.<span class="at">eat</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb50-8" data-line-number="8">  <span class="at">alert</span>(<span class="vs">`</span><span class="sc">${</span><span class="kw">this</span>.<span class="at">name</span><span class="sc">}</span><span class="vs"> eats.`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb50-9" data-line-number="9"><span class="op">};</span></a>
<a class="sourceLine" id="cb50-10" data-line-number="10"></a>
<a class="sourceLine" id="cb50-11" data-line-number="11"><span class="co">// Same Rabbit as before</span></a>
<a class="sourceLine" id="cb50-12" data-line-number="12"><span class="kw">function</span> <span class="at">Rabbit</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb50-13" data-line-number="13">  <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb50-14" data-line-number="14"><span class="op">}</span></a>
<a class="sourceLine" id="cb50-15" data-line-number="15"></a>
<a class="sourceLine" id="cb50-16" data-line-number="16"><span class="va">Rabbit</span>.<span class="va">prototype</span>.<span class="at">jump</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb50-17" data-line-number="17">  <span class="at">alert</span>(<span class="vs">`</span><span class="sc">${</span><span class="kw">this</span>.<span class="at">name</span><span class="sc">}</span><span class="vs"> jumps!`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb50-18" data-line-number="18"><span class="op">};</span></a>
<a class="sourceLine" id="cb50-19" data-line-number="19"></a>
<a class="sourceLine" id="cb50-20" data-line-number="20"><span class="co">// setup the inheritance chain</span></a>
<a class="sourceLine" id="cb50-21" data-line-number="21"><span class="va">Rabbit</span>.<span class="va">prototype</span>.<span class="at">__proto__</span> <span class="op">=</span> <span class="va">Animal</span>.<span class="at">prototype</span><span class="op">;</span> <span class="co">// (*)</span></a>
<a class="sourceLine" id="cb50-22" data-line-number="22"></a>
<a class="sourceLine" id="cb50-23" data-line-number="23"><span class="kw">let</span> rabbit <span class="op">=</span> <span class="kw">new</span> <span class="at">Rabbit</span>(<span class="st">&quot;White Rabbit&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb50-24" data-line-number="24"><span class="va">rabbit</span>.<span class="at">eat</span>()<span class="op">;</span> <span class="co">// rabbits can eat too</span></a>
<a class="sourceLine" id="cb50-25" data-line-number="25"><span class="va">rabbit</span>.<span class="at">jump</span>()<span class="op">;</span></a></code></pre></div>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2018-03-03_10-22-32.png" /></p>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/class-patterns" class="uri">https://javascript.info/class-patterns</a></li>
</ul>
</div>
<h2 id="mixins">Mixins</h2>
<div class="sourceCode" id="cb51"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="co">// mixin</span></a>
<a class="sourceLine" id="cb51-2" data-line-number="2"><span class="kw">let</span> sayHiMixin <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-3" data-line-number="3">  <span class="at">sayHi</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb51-4" data-line-number="4">    <span class="at">alert</span>(<span class="vs">`Hello </span><span class="sc">${</span><span class="kw">this</span>.<span class="at">name</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-5" data-line-number="5">  <span class="op">},</span></a>
<a class="sourceLine" id="cb51-6" data-line-number="6">  <span class="at">sayBye</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb51-7" data-line-number="7">    <span class="at">alert</span>(<span class="vs">`Bye </span><span class="sc">${</span><span class="kw">this</span>.<span class="at">name</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-8" data-line-number="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb51-9" data-line-number="9"><span class="op">};</span></a>
<a class="sourceLine" id="cb51-10" data-line-number="10"></a>
<a class="sourceLine" id="cb51-11" data-line-number="11"><span class="co">// usage:</span></a>
<a class="sourceLine" id="cb51-12" data-line-number="12"><span class="kw">class</span> User <span class="op">{</span></a>
<a class="sourceLine" id="cb51-13" data-line-number="13">  <span class="at">constructor</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb51-14" data-line-number="14">    <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb51-15" data-line-number="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb51-16" data-line-number="16"><span class="op">}</span></a>
<a class="sourceLine" id="cb51-17" data-line-number="17"></a>
<a class="sourceLine" id="cb51-18" data-line-number="18"><span class="co">// copy the methods</span></a>
<a class="sourceLine" id="cb51-19" data-line-number="19"><span class="va">Object</span>.<span class="at">assign</span>(<span class="va">User</span>.<span class="at">prototype</span><span class="op">,</span> sayHiMixin)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-20" data-line-number="20"></a>
<a class="sourceLine" id="cb51-21" data-line-number="21"><span class="co">// now User can say hi</span></a>
<a class="sourceLine" id="cb51-22" data-line-number="22"><span class="kw">new</span> <span class="at">User</span>(<span class="st">&quot;Dude&quot;</span>).<span class="at">sayHi</span>()<span class="op">;</span> <span class="co">// Hello Dude!</span></a></code></pre></div>
<blockquote>
<p>Please note that the call to the parent method super.say() from sayHiMixin looks for the method in the prototype of that mixin, not the class.</p>
</blockquote>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/mixins" class="uri">https://javascript.info/mixins</a></li>
</ul>
</div>
<h2 id="error-handling">Error handling</h2>
<div class="sourceCode" id="cb52"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb52-2" data-line-number="2">  <span class="co">// code...</span></a>
<a class="sourceLine" id="cb52-3" data-line-number="3"><span class="op">}</span> <span class="cf">catch</span> (err) <span class="op">{</span></a>
<a class="sourceLine" id="cb52-4" data-line-number="4">  <span class="co">// error handling</span></a>
<a class="sourceLine" id="cb52-5" data-line-number="5"><span class="op">}</span> <span class="cf">finally</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb52-6" data-line-number="6">  ... <span class="at">execute</span> <span class="va">always</span> ...</a>
<a class="sourceLine" id="cb52-7" data-line-number="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb52-8" data-line-number="8"></a>
<a class="sourceLine" id="cb52-9" data-line-number="9"><span class="cf">throw</span> <span class="op">&lt;</span>error object<span class="op">&gt;</span></a></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb53-1" data-line-number="1"><span class="va">window</span>.<span class="at">onerror</span> <span class="op">=</span> <span class="kw">function</span>(message<span class="op">,</span> url<span class="op">,</span> line<span class="op">,</span> col<span class="op">,</span> error) <span class="op">{</span></a>
<a class="sourceLine" id="cb53-2" data-line-number="2">  <span class="co">// ...</span></a>
<a class="sourceLine" id="cb53-3" data-line-number="3"><span class="op">};</span></a></code></pre></div>
<div class="sourceCode" id="cb54"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="co">// The &quot;pseudocode&quot; for the built-in Error class defined by JavaScript itself</span></a>
<a class="sourceLine" id="cb54-2" data-line-number="2"><span class="kw">class</span> Error <span class="op">{</span></a>
<a class="sourceLine" id="cb54-3" data-line-number="3">  <span class="at">constructor</span>(message) <span class="op">{</span></a>
<a class="sourceLine" id="cb54-4" data-line-number="4">    <span class="kw">this</span>.<span class="at">message</span> <span class="op">=</span> message<span class="op">;</span></a>
<a class="sourceLine" id="cb54-5" data-line-number="5">    <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> <span class="st">&quot;Error&quot;</span><span class="op">;</span> <span class="co">// (different names for different built-in error classes)</span></a>
<a class="sourceLine" id="cb54-6" data-line-number="6">    <span class="kw">this</span>.<span class="at">stack</span> <span class="op">=</span> <span class="op">&lt;</span>nested calls<span class="op">&gt;;</span> <span class="co">// non-standard, but most environments support it</span></a>
<a class="sourceLine" id="cb54-7" data-line-number="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb54-8" data-line-number="8"><span class="op">}</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/try-catch" class="uri">https://javascript.info/try-catch</a></li>
</ul>
</div>
<h2 id="window.location">window.location</h2>
<p>Some keywords are optional, but there is a general guideline for compatibility:</p>
<dl>
<dt><code>window.location</code></dt>
<dd>is preferred over <code>location</code>
</dd>
<dt><code>window.location.href = url</code></dt>
<dd>When redirecting, is preferred over <code>window.location = url;</code>
</dd>
</dl>
<ul>
<li><code>window.location.replace(url);</code> :; When redirecting, but want to remove the current page from the browser history, use</li>
</ul>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://stackoverflow.com/questions/2383401/javascript-setting-location-href-versus-location" class="uri">https://stackoverflow.com/questions/2383401/javascript-setting-location-href-versus-location</a></li>
<li><a href="https://stackoverflow.com/questions/42918837/removing-current-page-from-browser-history" class="uri">https://stackoverflow.com/questions/42918837/removing-current-page-from-browser-history</a></li>
</ul>
</div>
<h1 id="dom">DOM</h1>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2018-03-03_10-47-56.png" /></p>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2018-03-03_10-49-05.png" /></p>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/dom-navigation" class="uri">https://javascript.info/dom-navigation</a></li>
<li><a href="https://javascript.info/basic-dom-node-properties" class="uri">https://javascript.info/basic-dom-node-properties</a></li>
</ul>
</div>
<h1 id="page-lifecycle">Page lifecycle</h1>
<ul>
<li><code>DOMContentLoaded</code> event triggers on document when DOM is ready. We can apply JavaScript to elements at this stage.
<ul>
<li>All scripts are executed except those that are external with <code>async</code> or <code>defer</code></li>
<li>Images and other resources may still continue loading.</li>
</ul></li>
<li><code>load</code> event on <code>window</code> triggers when the page and all resources are loaded. We rarely use it, because theres usually no need to wait for so long.</li>
<li><code>beforeunload</code> event on <code>window</code> triggers when the user wants to leave the page.
<ul>
<li>If it returns a string, the browser shows a question whether the user really wants to leave or not.</li>
</ul></li>
<li><code>unload</code> event on window triggers when the user is finally leaving, in the handler we can only do simple things that do not involve delays or asking a user. Because of that limitation, its rarely used.</li>
<li><code>document.readyState</code> is the current state of the document, changes can be tracked in the <code>readystatechange</code> event:
<ul>
<li><code>loading</code>  the document is loading.</li>
<li><code>interactive</code>  the document is parsed, happens at about the same time as <code>DOMContentLoaded</code>, but before it.</li>
<li><code>complete</code>  the document and resources are loaded, happens at about the same time as <code>window.onload</code>, but before it.</li>
</ul></li>
</ul>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/onload-ondomcontentloaded" class="uri">https://javascript.info/onload-ondomcontentloaded</a></li>
</ul>
</div>
<h1 id="promise">Promise</h1>
<div class="sourceCode" id="cb55"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="kw">let</span> promise <span class="op">=</span> <span class="kw">new</span> <span class="at">Promise</span>(<span class="kw">function</span>(resolve<span class="op">,</span> reject) <span class="op">{</span></a>
<a class="sourceLine" id="cb55-2" data-line-number="2">  <span class="co">// executor (the producing code, &quot;singer&quot;)</span></a>
<a class="sourceLine" id="cb55-3" data-line-number="3"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb55-4" data-line-number="4"></a>
<a class="sourceLine" id="cb55-5" data-line-number="5"><span class="va">promise</span>.<span class="at">then</span>(</a>
<a class="sourceLine" id="cb55-6" data-line-number="6">  <span class="kw">function</span>(result) <span class="op">{</span> <span class="co">/* handle a successful result */</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb55-7" data-line-number="7">  <span class="kw">function</span>(error) <span class="op">{</span> <span class="co">/* handle an error */</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb55-8" data-line-number="8">)<span class="op">;</span></a>
<a class="sourceLine" id="cb55-9" data-line-number="9"></a>
<a class="sourceLine" id="cb55-10" data-line-number="10"><span class="kw">let</span> promise <span class="op">=</span> <span class="kw">new</span> <span class="at">Promise</span>((resolve<span class="op">,</span> reject) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb55-11" data-line-number="11">  <span class="at">setTimeout</span>(() <span class="op">=&gt;</span> <span class="at">reject</span>(<span class="kw">new</span> <span class="at">Error</span>(<span class="st">&quot;Whoops!&quot;</span>))<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb55-12" data-line-number="12"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb55-13" data-line-number="13"></a>
<a class="sourceLine" id="cb55-14" data-line-number="14"><span class="co">// .catch(f) is the same as promise.then(null, f)</span></a>
<a class="sourceLine" id="cb55-15" data-line-number="15"><span class="va">promise</span>.<span class="at">catch</span>(alert)<span class="op">;</span> <span class="co">// shows &quot;Error: Whoops!&quot; after 1 second</span></a>
<a class="sourceLine" id="cb55-16" data-line-number="16"></a>
<a class="sourceLine" id="cb55-17" data-line-number="17"><span class="kw">new</span> <span class="at">Promise</span>(<span class="kw">function</span>(resolve<span class="op">,</span> reject) <span class="op">{</span></a>
<a class="sourceLine" id="cb55-18" data-line-number="18"></a>
<a class="sourceLine" id="cb55-19" data-line-number="19">  <span class="at">setTimeout</span>(() <span class="op">=&gt;</span> <span class="at">resolve</span>(<span class="dv">1</span>)<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span> <span class="co">// (*)</span></a>
<a class="sourceLine" id="cb55-20" data-line-number="20"></a>
<a class="sourceLine" id="cb55-21" data-line-number="21"><span class="op">}</span>).<span class="at">then</span>(<span class="kw">function</span>(result) <span class="op">{</span> <span class="co">// (**)</span></a>
<a class="sourceLine" id="cb55-22" data-line-number="22"></a>
<a class="sourceLine" id="cb55-23" data-line-number="23">  <span class="at">alert</span>(result)<span class="op">;</span> <span class="co">// 1</span></a>
<a class="sourceLine" id="cb55-24" data-line-number="24">  <span class="cf">return</span> result <span class="op">*</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb55-25" data-line-number="25"></a>
<a class="sourceLine" id="cb55-26" data-line-number="26"><span class="op">}</span>).<span class="at">then</span>(<span class="kw">function</span>(result) <span class="op">{</span> <span class="co">// (***)</span></a>
<a class="sourceLine" id="cb55-27" data-line-number="27"></a>
<a class="sourceLine" id="cb55-28" data-line-number="28">  <span class="at">alert</span>(result)<span class="op">;</span> <span class="co">// 2</span></a>
<a class="sourceLine" id="cb55-29" data-line-number="29">  <span class="cf">return</span> result <span class="op">*</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb55-30" data-line-number="30"></a>
<a class="sourceLine" id="cb55-31" data-line-number="31"><span class="op">}</span>).<span class="at">then</span>(<span class="kw">function</span>(result) <span class="op">{</span></a>
<a class="sourceLine" id="cb55-32" data-line-number="32"></a>
<a class="sourceLine" id="cb55-33" data-line-number="33">  <span class="at">alert</span>(result)<span class="op">;</span> <span class="co">// 4</span></a>
<a class="sourceLine" id="cb55-34" data-line-number="34">  <span class="cf">return</span> result <span class="op">*</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb55-35" data-line-number="35"></a>
<a class="sourceLine" id="cb55-36" data-line-number="36"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<div class="sourceCode" id="cb56"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb56-1" data-line-number="1">async <span class="kw">function</span> <span class="at">f</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb56-2" data-line-number="2">  <span class="cf">return</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-3" data-line-number="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb56-4" data-line-number="4"></a>
<a class="sourceLine" id="cb56-5" data-line-number="5"><span class="at">f</span>().<span class="at">then</span>(alert)<span class="op">;</span> <span class="co">// 1</span></a>
<a class="sourceLine" id="cb56-6" data-line-number="6"></a>
<a class="sourceLine" id="cb56-7" data-line-number="7"><span class="co">// works only inside async functions</span></a>
<a class="sourceLine" id="cb56-8" data-line-number="8"><span class="kw">let</span> value <span class="op">=</span> await promise<span class="op">;</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/promise-basics" class="uri">https://javascript.info/promise-basics</a></li>
</ul>
</div>
<h1 id="events">Events</h1>
<div class="sourceCode" id="cb57"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="kw">&lt;input</span><span class="ot"> value=</span><span class="st">&quot;Click me&quot;</span><span class="ot"> onclick=</span><span class="st">&quot;alert(&#39;Click!&#39;)&quot;</span><span class="ot"> type=</span><span class="st">&quot;button&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb57-2" data-line-number="2"></a>
<a class="sourceLine" id="cb57-3" data-line-number="3"><span class="co">&lt;!-- --&gt;</span></a>
<a class="sourceLine" id="cb57-4" data-line-number="4"></a>
<a class="sourceLine" id="cb57-5" data-line-number="5"><span class="kw">&lt;script&gt;</span></a>
<a class="sourceLine" id="cb57-6" data-line-number="6">  <span class="kw">function</span> <span class="at">countRabbits</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb57-7" data-line-number="7">    <span class="cf">for</span>(<span class="kw">let</span> i<span class="op">=</span><span class="dv">1</span><span class="op">;</span> i<span class="op">&lt;=</span><span class="dv">3</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb57-8" data-line-number="8">      <span class="at">alert</span>(<span class="st">&quot;Rabbit number &quot;</span> <span class="op">+</span> i)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-9" data-line-number="9">    <span class="op">}</span></a>
<a class="sourceLine" id="cb57-10" data-line-number="10">  <span class="op">}</span></a>
<a class="sourceLine" id="cb57-11" data-line-number="11"><span class="kw">&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb57-12" data-line-number="12"></a>
<a class="sourceLine" id="cb57-13" data-line-number="13"><span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;button&quot;</span><span class="ot"> onclick=</span><span class="st">&quot;countRabbits()&quot;</span><span class="ot"> value=</span><span class="st">&quot;Count rabbits!&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb57-14" data-line-number="14"></a>
<a class="sourceLine" id="cb57-15" data-line-number="15"><span class="co">&lt;!-- --&gt;</span></a>
<a class="sourceLine" id="cb57-16" data-line-number="16"></a>
<a class="sourceLine" id="cb57-17" data-line-number="17"><span class="kw">&lt;input</span><span class="ot"> id=</span><span class="st">&quot;elem&quot;</span><span class="ot"> type=</span><span class="st">&quot;button&quot;</span><span class="ot"> value=</span><span class="st">&quot;Click me&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb57-18" data-line-number="18"><span class="kw">&lt;script&gt;</span></a>
<a class="sourceLine" id="cb57-19" data-line-number="19">  <span class="va">elem</span>.<span class="at">onclick</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb57-20" data-line-number="20">    <span class="at">alert</span>(<span class="st">&#39;Thank you&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-21" data-line-number="21">  <span class="op">};</span></a>
<a class="sourceLine" id="cb57-22" data-line-number="22"><span class="kw">&lt;/script&gt;</span></a></code></pre></div>
<div class="sourceCode" id="cb58"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="va">element</span>.<span class="at">addEventListener</span>(event<span class="op">,</span> handler[<span class="op">,</span> phase])<span class="op">;</span></a>
<a class="sourceLine" id="cb58-2" data-line-number="2"></a>
<a class="sourceLine" id="cb58-3" data-line-number="3"><span class="va">elem</span>.<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb58-4" data-line-number="4">  <span class="at">handleEvent</span>(event) <span class="op">{</span></a>
<a class="sourceLine" id="cb58-5" data-line-number="5">    <span class="at">alert</span>(<span class="va">event</span>.<span class="at">type</span> <span class="op">+</span> <span class="st">&quot; at &quot;</span> <span class="op">+</span> <span class="va">event</span>.<span class="at">currentTarget</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb58-6" data-line-number="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb58-7" data-line-number="7"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<ol>
<li>Capturing phase :: the event goes down to the element.</li>
<li>Target phase :: the event reached the target element.</li>
<li>Bubbling phase :: the event bubbles up from the element.</li>
</ol>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2018-03-03_13-20-38.png" /></p>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/introduction-browser-events" class="uri">https://javascript.info/introduction-browser-events</a></li>
</ul>
</div>
<h1 id="how-to">How-to</h1>
<h2 id="parse-uri">Parse URI</h2>
<div class="sourceCode" id="cb59"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="kw">var</span> parser <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;a&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-2" data-line-number="2"><span class="va">parser</span>.<span class="at">href</span> <span class="op">=</span> <span class="st">&quot;http://example.com:3000/pathname/?search=test#hash&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-3" data-line-number="3"></a>
<a class="sourceLine" id="cb59-4" data-line-number="4"><span class="va">parser</span>.<span class="at">protocol</span><span class="op">;</span> <span class="co">// =&gt; &quot;http:&quot;</span></a>
<a class="sourceLine" id="cb59-5" data-line-number="5"><span class="va">parser</span>.<span class="at">hostname</span><span class="op">;</span> <span class="co">// =&gt; &quot;example.com&quot;</span></a>
<a class="sourceLine" id="cb59-6" data-line-number="6"><span class="va">parser</span>.<span class="at">port</span><span class="op">;</span>     <span class="co">// =&gt; &quot;3000&quot;</span></a>
<a class="sourceLine" id="cb59-7" data-line-number="7"><span class="va">parser</span>.<span class="at">pathname</span><span class="op">;</span> <span class="co">// =&gt; &quot;/pathname/&quot;</span></a>
<a class="sourceLine" id="cb59-8" data-line-number="8"><span class="va">parser</span>.<span class="at">search</span><span class="op">;</span>   <span class="co">// =&gt; &quot;?search=test&quot;</span></a>
<a class="sourceLine" id="cb59-9" data-line-number="9"><span class="va">parser</span>.<span class="at">hash</span><span class="op">;</span>     <span class="co">// =&gt; &quot;#hash&quot;</span></a>
<a class="sourceLine" id="cb59-10" data-line-number="10"><span class="va">parser</span>.<span class="at">host</span><span class="op">;</span>     <span class="co">// =&gt; &quot;example.com:3000&quot;</span></a></code></pre></div>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://gist.github.com/jlong/2428561" class="uri">https://gist.github.com/jlong/2428561</a></li>
</ul>
</div>
<h2 id="put-script">Put &lt;script&gt;</h2>
<ul>
<li>As a rule, only the simplest scripts are put into HTML.</li>
<li>The benefit of a separate file is that the browser will download it and then store in its cache.</li>
<li>If <code>src</code> is set, the script content is ignored.</li>
<li>The <code>type</code> and <code>language</code> attributes are not required.</li>
</ul>
<div class="sourceCode" id="cb60"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;path/to/script.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a></code></pre></div>
<p><img src="https://media.yeonghoey.com/javascript/_img/screenshot_2018-03-02_03-27-42.png" /></p>
<ul>
<li>If the script is modular and does not rely on any scripts then use <code>async</code>.</li>
<li>If the script relies upon or is relied upon by another script then use <code>defer</code>.</li>
<li>If the script is small and is relied upon by an <code>async</code> script then use an <code>inline script</code> with no attributes placed above the <code>async</code> scripts.</li>
</ul>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/hello-world" class="uri">https://javascript.info/hello-world</a></li>
<li><a href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html" class="uri">http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html</a></li>
</ul>
</div>
<h2 id="add-breadcrumb">Add breadcrumb</h2>
<div class="sourceCode" id="cb61"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;breadcrumb&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb61-2" data-line-number="2">  <span class="kw">&lt;ol&gt;</span></a>
<a class="sourceLine" id="cb61-3" data-line-number="3">    <span class="kw">&lt;li&gt;&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/&quot;</span><span class="kw">&gt;</span>Home<span class="kw">&lt;/a&gt;&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb61-4" data-line-number="4">  <span class="kw">&lt;/ol&gt;</span></a>
<a class="sourceLine" id="cb61-5" data-line-number="5"><span class="kw">&lt;/div&gt;</span></a></code></pre></div>
<div class="sourceCode" id="cb62"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="kw">let</span> pathname <span class="op">=</span> <span class="va">window</span>.<span class="va">location</span>.<span class="at">pathname</span><span class="op">;</span></a>
<a class="sourceLine" id="cb62-2" data-line-number="2"><span class="kw">let</span> segments <span class="op">=</span> <span class="va">pathname</span>.<span class="at">split</span>(<span class="st">&#39;/&#39;</span>).<span class="at">filter</span>(x <span class="op">=&gt;</span> x <span class="op">!=</span> <span class="st">&#39;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-3" data-line-number="3"><span class="kw">let</span> hrefs <span class="op">=</span> <span class="va">segments</span>.<span class="at">reduce</span>((arr<span class="op">,</span> seg) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb62-4" data-line-number="4">  <span class="kw">let</span> prev <span class="op">=</span> <span class="va">arr</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">?</span> arr[<span class="va">arr</span>.<span class="at">length</span><span class="dv">-1</span>] : <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb62-5" data-line-number="5">  <span class="kw">let</span> href <span class="op">=</span> prev <span class="op">+</span> <span class="st">&#39;/&#39;</span> <span class="op">+</span> seg<span class="op">;</span></a>
<a class="sourceLine" id="cb62-6" data-line-number="6">  <span class="va">arr</span>.<span class="at">push</span>(href)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-7" data-line-number="7">  <span class="cf">return</span> arr<span class="op">;</span></a>
<a class="sourceLine" id="cb62-8" data-line-number="8"><span class="op">},</span> [])<span class="op">;</span></a>
<a class="sourceLine" id="cb62-9" data-line-number="9"><span class="kw">let</span> lis <span class="op">=</span> <span class="va">segments</span>.<span class="at">map</span>((seg<span class="op">,</span> i) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb62-10" data-line-number="10">  <span class="kw">let</span> li <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;li&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-11" data-line-number="11">  <span class="kw">let</span> a <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;a&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-12" data-line-number="12">  <span class="kw">let</span> t <span class="op">=</span> <span class="va">document</span>.<span class="at">createTextNode</span>(seg)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-13" data-line-number="13">  <span class="va">a</span>.<span class="at">setAttribute</span>(<span class="st">&#39;href&#39;</span><span class="op">,</span> hrefs[i])<span class="op">;</span></a>
<a class="sourceLine" id="cb62-14" data-line-number="14">  <span class="va">a</span>.<span class="at">appendChild</span>(t)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-15" data-line-number="15">  <span class="va">li</span>.<span class="at">appendChild</span>(a)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-16" data-line-number="16">  <span class="cf">return</span> li<span class="op">;</span></a>
<a class="sourceLine" id="cb62-17" data-line-number="17"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-18" data-line-number="18"><span class="kw">let</span> breadcrumb <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;breadcrumb&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-19" data-line-number="19"><span class="kw">let</span> ol <span class="op">=</span> <span class="va">breadcrumb</span>.<span class="at">getElementsByTagName</span>(<span class="st">&#39;ol&#39;</span>)[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb62-20" data-line-number="20"><span class="va">lis</span>.<span class="at">forEach</span>(li <span class="op">=&gt;</span> <span class="va">ol</span>.<span class="at">appendChild</span>(li))<span class="op">;</span></a>
<a class="sourceLine" id="cb62-21" data-line-number="21"><span class="kw">let</span> aTags <span class="op">=</span> <span class="va">ol</span>.<span class="at">getElementsByTagName</span>(<span class="st">&#39;a&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-22" data-line-number="22">aTags[<span class="va">aTags</span>.<span class="at">length</span><span class="dv">-1</span>].<span class="at">removeAttribute</span>(<span class="st">&#39;href&#39;</span>)<span class="op">;</span></a></code></pre></div>
<h1 id="links">Links</h1>
<div class="REFERENCES drawer">
<ul>
<li><a href="https://javascript.info/" class="uri">https://javascript.info/</a></li>
</ul>
</div>
</article>

</body>
</html>
